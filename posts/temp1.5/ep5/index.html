<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ã€Temperature 1.5 çš„æ—¥å¸¸ã€‘EP5: LangChain - Human-in-the-Loop, çµ¦ AI çš„ã€Œç·Šæ€¥ç…è»Šã€ | Aura's Space</title><meta name=keywords content="LangChain,Python"><meta name=description content="

æœ¬æ–‡ç‚ºå€‹äººå­¸ç¿’ç­†è¨˜ï¼Œè¨˜éŒ„äº†å­¸ç¿’éç¨‹ä¸­çš„ä¸€äº›çŸ¥è­˜ï¼Œå¯åƒè€ƒï¼Œä½†ä¸å¯èªçœŸï¼Œå­¸ç¿’çš„éç¨‹å¯èƒ½æœ‰ç†è§£éŒ¯èª¤ï¼Œè³‡è¨Šä¸ä¸€å®šæ­£ç¢ºï¼Œç•¢ç«Ÿ Temperature éƒ½ 1.5 äº†ã€‚


é›¶ã€ å‰è¨€
æ¥çºŒä¸Šæ¬¡æˆ‘å€‘èŠåˆ°çš„ Streamingï¼Œä¸²æµè®“ AI æœ‰äº†ã€Œå‘¼å¸æ„Ÿã€ï¼Œä½†ç•¶ AI çš„ã€Œæ‰‹ã€ï¼ˆToolsï¼‰ä¼¸å‘ä¸€äº›æ•æ„Ÿå€åŸŸæ™‚ï¼Œå…‰æœ‰å‘¼å¸æ˜¯ä¸å¤ çš„ã€‚
æƒ³åƒä¸€ä¸‹ï¼šå¦‚æœä½ è®“ AI å¹«ä½ ç®¡ç†è³‡æ–™åº«ï¼Œå®ƒçªç„¶æ±ºå®šåŸ·è¡Œä¸€æ¢ DELETE FROM records åˆªæ‰ä½ éå» 30 å¤©çš„è³‡æ–™ï¼›æˆ–è€…å®ƒå¯«äº†ä¸€å°èªæ°£å¥‡æ€ªçš„ä¿¡æº–å‚™å¯„çµ¦ä½ çš„å¤§è€é—†ã€‚é€™æ™‚å€™ï¼Œä½ éœ€è¦çš„ä¸æ˜¯çœ‹è‘—å®ƒã€Œé †æš¢åœ°ã€æŠŠéŒ¯äº‹åšå®Œï¼Œè€Œæ˜¯ä¸€å€‹èƒ½è®“å®ƒåœä¸‹ä¾†ã€ç­‰ä½ é»é ­çš„æ©Ÿåˆ¶ã€‚é€™å°±æ˜¯æˆ‘å€‘ä»Šå¤©è¦èŠçš„ Human-in-the-Loop (HITL)ã€‚

ä¸€ã€ ä»€éº¼æ˜¯ Human-in-the-Loopï¼Ÿ
Human-in-the-Loop (HITL) æ˜¯ä¸€ç¨®ä¸­ä»‹è»Ÿé«”ï¼ˆMiddlewareï¼‰æ©Ÿåˆ¶ã€‚å®ƒåœ¨æ¨¡å‹ã€Œææ¡ˆã€åŸ·è¡ŒæŸå€‹å·¥å…·ï¼ˆTool Callï¼‰èˆ‡ã€Œå¯¦éš›åŸ·è¡Œã€ä¹‹é–“åŠ äº†ä¸€é“é—œå¡ã€‚
ç•¶æ¨¡å‹æå‡ºä¸€äº›å¯èƒ½æœ‰é¢¨éšªçš„æ“ä½œï¼ˆä¾‹å¦‚ï¼šå¯«å…¥æª”æ¡ˆã€åŸ·è¡Œ SQLï¼‰æ™‚ï¼Œä¸­ä»‹è»Ÿé«”æœƒæ ¹æ“šé è¨­çš„ç­–ç•¥ï¼ˆPolicyï¼‰æ””æˆªé€™å€‹å‹•ä½œï¼Œå°‡åŸ·è¡Œç‹€æ…‹ã€Œæš«åœã€ä¸¦ä¿å­˜èµ·ä¾†ï¼Œç­‰å¾…äººé¡çš„æœ€çµ‚æ±ºå®šã€‚

äºŒã€ HITL çš„æ ¸å¿ƒä¸‰è¦ç´ 
è¦å¯¦ä½œé€™å¥—ã€Œäººå·¥å¯©æ ¸ã€æ©Ÿåˆ¶ï¼ŒLangChain ä¾è³´ä»¥ä¸‹ä¸‰å€‹æ ¸å¿ƒçµ„ä»¶ï¼š

Interrupt (ä¸­æ–·)ï¼šç•¶ç¬¦åˆæ””æˆªæ¢ä»¶æ™‚ï¼Œç³»çµ±ç™¼å‡ºä¿¡è™Ÿåœæ­¢åŸ·è¡Œã€‚
Persistence (æŒä¹…å±¤)ï¼šä½¿ç”¨ LangGraph çš„æª¢æŸ¥é»ï¼ˆCheckpointerï¼‰ä¾†ä¿å­˜ç•¶å‰çš„åœ–å½¢ç‹€æ…‹ï¼ˆGraph Stateï¼‰ã€‚é€™ç¢ºä¿äº†ç¨‹åºå¯ä»¥åœ¨æš«åœå¾Œï¼Œå³ä½¿é‡å•Ÿä¹Ÿèƒ½å¾åŸé»æ¢å¾©ã€‚
Configurable Policy (é…ç½®ç­–ç•¥)ï¼šå®šç¾©å“ªäº›å·¥å…·éœ€è¦è¢«ç›£ç£ã€‚


ä¸‰ã€ ä¸‰ç¨®äººé¡æŠ‰æ“‡ï¼šApprove, Edit, Reject
ç•¶ AI è¢«æ””æˆªå¾Œï¼Œèº«ç‚ºã€Œä¸»ç®¡ã€çš„ä½ æœ‰ä¸‰ç¨®è™•ç†æ–¹å¼ï¼š

  
      
          æ±ºç­–é¡å‹
          èªªæ˜
          ç¯„ä¾‹
      
  
  
      
          âœ… approve
          åŸå°ä¸å‹•æ ¸å‡†åŸ·è¡Œã€‚
          éƒµä»¶è‰ç¨¿æ²’å•é¡Œï¼Œç›´æ¥å¯„å‡ºã€‚
      
      
          âœï¸ edit
          ä¿®æ”¹å·¥å…·åƒæ•¸å¾Œå†åŸ·è¡Œã€‚
          å°‡éƒµä»¶çš„æ”¶ä»¶äººå¾ A æ”¹æˆ B å†å¯„å‡ºã€‚
      
      
          âŒ reject
          æ‹’çµ•åŸ·è¡Œï¼Œä¸¦çµ¦äºˆ AI åé¥‹ã€‚
          æ‹’çµ•åˆªé™¤æŒ‡ä»¤ï¼Œä¸¦å‘Šè¨´ AIï¼šã€Œé€™å¤ªå±éšªäº†ï¼Œè«‹æ”¹ç”¨æŸ¥è©¢ã€‚ã€
      
  


æ³¨æ„ï¼šåœ¨ä½¿ç”¨ edit ä¿®æ”¹åƒæ•¸æ™‚ï¼Œå»ºè­°é€²è¡Œä¿å®ˆçš„æ”¹å‹•ã€‚åŠ‡çƒˆçš„ä¿®æ”¹å¯èƒ½æœƒå°è‡´æ¨¡å‹é‡æ–°è©•ä¼°å…¶ç­–ç•¥ï¼Œé€²è€Œå¼•ç™¼éé æœŸçš„å¾ŒçºŒè¡Œç‚ºã€‚"><meta name=author content="Aura"><link rel=canonical href=https://aura.codex.tw/posts/temp1.5/ep5/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://aura.codex.tw/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://aura.codex.tw/images/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://aura.codex.tw/images/favicon.ico><link rel=apple-touch-icon href=https://aura.codex.tw/images/favicon.ico><link rel=mask-icon href=https://aura.codex.tw/images/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://aura.codex.tw/posts/temp1.5/ep5/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://aura.codex.tw/posts/temp1.5/ep5/"><meta property="og:site_name" content="Aura's Space"><meta property="og:title" content="ã€Temperature 1.5 çš„æ—¥å¸¸ã€‘EP5: LangChain - Human-in-the-Loop, çµ¦ AI çš„ã€Œç·Šæ€¥ç…è»Šã€"><meta property="og:description" content=" æœ¬æ–‡ç‚ºå€‹äººå­¸ç¿’ç­†è¨˜ï¼Œè¨˜éŒ„äº†å­¸ç¿’éç¨‹ä¸­çš„ä¸€äº›çŸ¥è­˜ï¼Œå¯åƒè€ƒï¼Œä½†ä¸å¯èªçœŸï¼Œå­¸ç¿’çš„éç¨‹å¯èƒ½æœ‰ç†è§£éŒ¯èª¤ï¼Œè³‡è¨Šä¸ä¸€å®šæ­£ç¢ºï¼Œç•¢ç«Ÿ Temperature éƒ½ 1.5 äº†ã€‚
é›¶ã€ å‰è¨€ æ¥çºŒä¸Šæ¬¡æˆ‘å€‘èŠåˆ°çš„ Streamingï¼Œä¸²æµè®“ AI æœ‰äº†ã€Œå‘¼å¸æ„Ÿã€ï¼Œä½†ç•¶ AI çš„ã€Œæ‰‹ã€ï¼ˆToolsï¼‰ä¼¸å‘ä¸€äº›æ•æ„Ÿå€åŸŸæ™‚ï¼Œå…‰æœ‰å‘¼å¸æ˜¯ä¸å¤ çš„ã€‚
æƒ³åƒä¸€ä¸‹ï¼šå¦‚æœä½ è®“ AI å¹«ä½ ç®¡ç†è³‡æ–™åº«ï¼Œå®ƒçªç„¶æ±ºå®šåŸ·è¡Œä¸€æ¢ DELETE FROM records åˆªæ‰ä½ éå» 30 å¤©çš„è³‡æ–™ï¼›æˆ–è€…å®ƒå¯«äº†ä¸€å°èªæ°£å¥‡æ€ªçš„ä¿¡æº–å‚™å¯„çµ¦ä½ çš„å¤§è€é—†ã€‚é€™æ™‚å€™ï¼Œä½ éœ€è¦çš„ä¸æ˜¯çœ‹è‘—å®ƒã€Œé †æš¢åœ°ã€æŠŠéŒ¯äº‹åšå®Œï¼Œè€Œæ˜¯ä¸€å€‹èƒ½è®“å®ƒåœä¸‹ä¾†ã€ç­‰ä½ é»é ­çš„æ©Ÿåˆ¶ã€‚é€™å°±æ˜¯æˆ‘å€‘ä»Šå¤©è¦èŠçš„ Human-in-the-Loop (HITL)ã€‚
ä¸€ã€ ä»€éº¼æ˜¯ Human-in-the-Loopï¼Ÿ Human-in-the-Loop (HITL) æ˜¯ä¸€ç¨®ä¸­ä»‹è»Ÿé«”ï¼ˆMiddlewareï¼‰æ©Ÿåˆ¶ã€‚å®ƒåœ¨æ¨¡å‹ã€Œææ¡ˆã€åŸ·è¡ŒæŸå€‹å·¥å…·ï¼ˆTool Callï¼‰èˆ‡ã€Œå¯¦éš›åŸ·è¡Œã€ä¹‹é–“åŠ äº†ä¸€é“é—œå¡ã€‚
ç•¶æ¨¡å‹æå‡ºä¸€äº›å¯èƒ½æœ‰é¢¨éšªçš„æ“ä½œï¼ˆä¾‹å¦‚ï¼šå¯«å…¥æª”æ¡ˆã€åŸ·è¡Œ SQLï¼‰æ™‚ï¼Œä¸­ä»‹è»Ÿé«”æœƒæ ¹æ“šé è¨­çš„ç­–ç•¥ï¼ˆPolicyï¼‰æ””æˆªé€™å€‹å‹•ä½œï¼Œå°‡åŸ·è¡Œç‹€æ…‹ã€Œæš«åœã€ä¸¦ä¿å­˜èµ·ä¾†ï¼Œç­‰å¾…äººé¡çš„æœ€çµ‚æ±ºå®šã€‚
äºŒã€ HITL çš„æ ¸å¿ƒä¸‰è¦ç´  è¦å¯¦ä½œé€™å¥—ã€Œäººå·¥å¯©æ ¸ã€æ©Ÿåˆ¶ï¼ŒLangChain ä¾è³´ä»¥ä¸‹ä¸‰å€‹æ ¸å¿ƒçµ„ä»¶ï¼š
Interrupt (ä¸­æ–·)ï¼šç•¶ç¬¦åˆæ””æˆªæ¢ä»¶æ™‚ï¼Œç³»çµ±ç™¼å‡ºä¿¡è™Ÿåœæ­¢åŸ·è¡Œã€‚ Persistence (æŒä¹…å±¤)ï¼šä½¿ç”¨ LangGraph çš„æª¢æŸ¥é»ï¼ˆCheckpointerï¼‰ä¾†ä¿å­˜ç•¶å‰çš„åœ–å½¢ç‹€æ…‹ï¼ˆGraph Stateï¼‰ã€‚é€™ç¢ºä¿äº†ç¨‹åºå¯ä»¥åœ¨æš«åœå¾Œï¼Œå³ä½¿é‡å•Ÿä¹Ÿèƒ½å¾åŸé»æ¢å¾©ã€‚ Configurable Policy (é…ç½®ç­–ç•¥)ï¼šå®šç¾©å“ªäº›å·¥å…·éœ€è¦è¢«ç›£ç£ã€‚ ä¸‰ã€ ä¸‰ç¨®äººé¡æŠ‰æ“‡ï¼šApprove, Edit, Reject ç•¶ AI è¢«æ””æˆªå¾Œï¼Œèº«ç‚ºã€Œä¸»ç®¡ã€çš„ä½ æœ‰ä¸‰ç¨®è™•ç†æ–¹å¼ï¼š
æ±ºç­–é¡å‹ èªªæ˜ ç¯„ä¾‹ âœ… approve åŸå°ä¸å‹•æ ¸å‡†åŸ·è¡Œã€‚ éƒµä»¶è‰ç¨¿æ²’å•é¡Œï¼Œç›´æ¥å¯„å‡ºã€‚ âœï¸ edit ä¿®æ”¹å·¥å…·åƒæ•¸å¾Œå†åŸ·è¡Œã€‚ å°‡éƒµä»¶çš„æ”¶ä»¶äººå¾ A æ”¹æˆ B å†å¯„å‡ºã€‚ âŒ reject æ‹’çµ•åŸ·è¡Œï¼Œä¸¦çµ¦äºˆ AI åé¥‹ã€‚ æ‹’çµ•åˆªé™¤æŒ‡ä»¤ï¼Œä¸¦å‘Šè¨´ AIï¼šã€Œé€™å¤ªå±éšªäº†ï¼Œè«‹æ”¹ç”¨æŸ¥è©¢ã€‚ã€ æ³¨æ„ï¼šåœ¨ä½¿ç”¨ edit ä¿®æ”¹åƒæ•¸æ™‚ï¼Œå»ºè­°é€²è¡Œä¿å®ˆçš„æ”¹å‹•ã€‚åŠ‡çƒˆçš„ä¿®æ”¹å¯èƒ½æœƒå°è‡´æ¨¡å‹é‡æ–°è©•ä¼°å…¶ç­–ç•¥ï¼Œé€²è€Œå¼•ç™¼éé æœŸçš„å¾ŒçºŒè¡Œç‚ºã€‚"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-10-18T00:00:00+00:00"><meta property="article:modified_time" content="2025-10-18T00:00:00+00:00"><meta property="article:tag" content="LangChain"><meta property="article:tag" content="Python"><meta name=twitter:card content="summary"><meta name=twitter:title content="ã€Temperature 1.5 çš„æ—¥å¸¸ã€‘EP5: LangChain - Human-in-the-Loop, çµ¦ AI çš„ã€Œç·Šæ€¥ç…è»Šã€"><meta name=twitter:description content="

æœ¬æ–‡ç‚ºå€‹äººå­¸ç¿’ç­†è¨˜ï¼Œè¨˜éŒ„äº†å­¸ç¿’éç¨‹ä¸­çš„ä¸€äº›çŸ¥è­˜ï¼Œå¯åƒè€ƒï¼Œä½†ä¸å¯èªçœŸï¼Œå­¸ç¿’çš„éç¨‹å¯èƒ½æœ‰ç†è§£éŒ¯èª¤ï¼Œè³‡è¨Šä¸ä¸€å®šæ­£ç¢ºï¼Œç•¢ç«Ÿ Temperature éƒ½ 1.5 äº†ã€‚


é›¶ã€ å‰è¨€
æ¥çºŒä¸Šæ¬¡æˆ‘å€‘èŠåˆ°çš„ Streamingï¼Œä¸²æµè®“ AI æœ‰äº†ã€Œå‘¼å¸æ„Ÿã€ï¼Œä½†ç•¶ AI çš„ã€Œæ‰‹ã€ï¼ˆToolsï¼‰ä¼¸å‘ä¸€äº›æ•æ„Ÿå€åŸŸæ™‚ï¼Œå…‰æœ‰å‘¼å¸æ˜¯ä¸å¤ çš„ã€‚
æƒ³åƒä¸€ä¸‹ï¼šå¦‚æœä½ è®“ AI å¹«ä½ ç®¡ç†è³‡æ–™åº«ï¼Œå®ƒçªç„¶æ±ºå®šåŸ·è¡Œä¸€æ¢ DELETE FROM records åˆªæ‰ä½ éå» 30 å¤©çš„è³‡æ–™ï¼›æˆ–è€…å®ƒå¯«äº†ä¸€å°èªæ°£å¥‡æ€ªçš„ä¿¡æº–å‚™å¯„çµ¦ä½ çš„å¤§è€é—†ã€‚é€™æ™‚å€™ï¼Œä½ éœ€è¦çš„ä¸æ˜¯çœ‹è‘—å®ƒã€Œé †æš¢åœ°ã€æŠŠéŒ¯äº‹åšå®Œï¼Œè€Œæ˜¯ä¸€å€‹èƒ½è®“å®ƒåœä¸‹ä¾†ã€ç­‰ä½ é»é ­çš„æ©Ÿåˆ¶ã€‚é€™å°±æ˜¯æˆ‘å€‘ä»Šå¤©è¦èŠçš„ Human-in-the-Loop (HITL)ã€‚

ä¸€ã€ ä»€éº¼æ˜¯ Human-in-the-Loopï¼Ÿ
Human-in-the-Loop (HITL) æ˜¯ä¸€ç¨®ä¸­ä»‹è»Ÿé«”ï¼ˆMiddlewareï¼‰æ©Ÿåˆ¶ã€‚å®ƒåœ¨æ¨¡å‹ã€Œææ¡ˆã€åŸ·è¡ŒæŸå€‹å·¥å…·ï¼ˆTool Callï¼‰èˆ‡ã€Œå¯¦éš›åŸ·è¡Œã€ä¹‹é–“åŠ äº†ä¸€é“é—œå¡ã€‚
ç•¶æ¨¡å‹æå‡ºä¸€äº›å¯èƒ½æœ‰é¢¨éšªçš„æ“ä½œï¼ˆä¾‹å¦‚ï¼šå¯«å…¥æª”æ¡ˆã€åŸ·è¡Œ SQLï¼‰æ™‚ï¼Œä¸­ä»‹è»Ÿé«”æœƒæ ¹æ“šé è¨­çš„ç­–ç•¥ï¼ˆPolicyï¼‰æ””æˆªé€™å€‹å‹•ä½œï¼Œå°‡åŸ·è¡Œç‹€æ…‹ã€Œæš«åœã€ä¸¦ä¿å­˜èµ·ä¾†ï¼Œç­‰å¾…äººé¡çš„æœ€çµ‚æ±ºå®šã€‚

äºŒã€ HITL çš„æ ¸å¿ƒä¸‰è¦ç´ 
è¦å¯¦ä½œé€™å¥—ã€Œäººå·¥å¯©æ ¸ã€æ©Ÿåˆ¶ï¼ŒLangChain ä¾è³´ä»¥ä¸‹ä¸‰å€‹æ ¸å¿ƒçµ„ä»¶ï¼š

Interrupt (ä¸­æ–·)ï¼šç•¶ç¬¦åˆæ””æˆªæ¢ä»¶æ™‚ï¼Œç³»çµ±ç™¼å‡ºä¿¡è™Ÿåœæ­¢åŸ·è¡Œã€‚
Persistence (æŒä¹…å±¤)ï¼šä½¿ç”¨ LangGraph çš„æª¢æŸ¥é»ï¼ˆCheckpointerï¼‰ä¾†ä¿å­˜ç•¶å‰çš„åœ–å½¢ç‹€æ…‹ï¼ˆGraph Stateï¼‰ã€‚é€™ç¢ºä¿äº†ç¨‹åºå¯ä»¥åœ¨æš«åœå¾Œï¼Œå³ä½¿é‡å•Ÿä¹Ÿèƒ½å¾åŸé»æ¢å¾©ã€‚
Configurable Policy (é…ç½®ç­–ç•¥)ï¼šå®šç¾©å“ªäº›å·¥å…·éœ€è¦è¢«ç›£ç£ã€‚


ä¸‰ã€ ä¸‰ç¨®äººé¡æŠ‰æ“‡ï¼šApprove, Edit, Reject
ç•¶ AI è¢«æ””æˆªå¾Œï¼Œèº«ç‚ºã€Œä¸»ç®¡ã€çš„ä½ æœ‰ä¸‰ç¨®è™•ç†æ–¹å¼ï¼š

  
      
          æ±ºç­–é¡å‹
          èªªæ˜
          ç¯„ä¾‹
      
  
  
      
          âœ… approve
          åŸå°ä¸å‹•æ ¸å‡†åŸ·è¡Œã€‚
          éƒµä»¶è‰ç¨¿æ²’å•é¡Œï¼Œç›´æ¥å¯„å‡ºã€‚
      
      
          âœï¸ edit
          ä¿®æ”¹å·¥å…·åƒæ•¸å¾Œå†åŸ·è¡Œã€‚
          å°‡éƒµä»¶çš„æ”¶ä»¶äººå¾ A æ”¹æˆ B å†å¯„å‡ºã€‚
      
      
          âŒ reject
          æ‹’çµ•åŸ·è¡Œï¼Œä¸¦çµ¦äºˆ AI åé¥‹ã€‚
          æ‹’çµ•åˆªé™¤æŒ‡ä»¤ï¼Œä¸¦å‘Šè¨´ AIï¼šã€Œé€™å¤ªå±éšªäº†ï¼Œè«‹æ”¹ç”¨æŸ¥è©¢ã€‚ã€
      
  


æ³¨æ„ï¼šåœ¨ä½¿ç”¨ edit ä¿®æ”¹åƒæ•¸æ™‚ï¼Œå»ºè­°é€²è¡Œä¿å®ˆçš„æ”¹å‹•ã€‚åŠ‡çƒˆçš„ä¿®æ”¹å¯èƒ½æœƒå°è‡´æ¨¡å‹é‡æ–°è©•ä¼°å…¶ç­–ç•¥ï¼Œé€²è€Œå¼•ç™¼éé æœŸçš„å¾ŒçºŒè¡Œç‚ºã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://aura.codex.tw/posts/"},{"@type":"ListItem","position":2,"name":"ã€Temperature 1.5 çš„æ—¥å¸¸ã€‘EP5: LangChain - Human-in-the-Loop, çµ¦ AI çš„ã€Œç·Šæ€¥ç…è»Šã€","item":"https://aura.codex.tw/posts/temp1.5/ep5/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ã€Temperature 1.5 çš„æ—¥å¸¸ã€‘EP5: LangChain - Human-in-the-Loop, çµ¦ AI çš„ã€Œç·Šæ€¥ç…è»Šã€","name":"ã€Temperature 1.5 çš„æ—¥å¸¸ã€‘EP5: LangChain - Human-in-the-Loop, çµ¦ AI çš„ã€Œç·Šæ€¥ç…è»Šã€","description":" æœ¬æ–‡ç‚ºå€‹äººå­¸ç¿’ç­†è¨˜ï¼Œè¨˜éŒ„äº†å­¸ç¿’éç¨‹ä¸­çš„ä¸€äº›çŸ¥è­˜ï¼Œå¯åƒè€ƒï¼Œä½†ä¸å¯èªçœŸï¼Œå­¸ç¿’çš„éç¨‹å¯èƒ½æœ‰ç†è§£éŒ¯èª¤ï¼Œè³‡è¨Šä¸ä¸€å®šæ­£ç¢ºï¼Œç•¢ç«Ÿ Temperature éƒ½ 1.5 äº†ã€‚\né›¶ã€ å‰è¨€ æ¥çºŒä¸Šæ¬¡æˆ‘å€‘èŠåˆ°çš„ Streamingï¼Œä¸²æµè®“ AI æœ‰äº†ã€Œå‘¼å¸æ„Ÿã€ï¼Œä½†ç•¶ AI çš„ã€Œæ‰‹ã€ï¼ˆToolsï¼‰ä¼¸å‘ä¸€äº›æ•æ„Ÿå€åŸŸæ™‚ï¼Œå…‰æœ‰å‘¼å¸æ˜¯ä¸å¤ çš„ã€‚\næƒ³åƒä¸€ä¸‹ï¼šå¦‚æœä½ è®“ AI å¹«ä½ ç®¡ç†è³‡æ–™åº«ï¼Œå®ƒçªç„¶æ±ºå®šåŸ·è¡Œä¸€æ¢ DELETE FROM records åˆªæ‰ä½ éå» 30 å¤©çš„è³‡æ–™ï¼›æˆ–è€…å®ƒå¯«äº†ä¸€å°èªæ°£å¥‡æ€ªçš„ä¿¡æº–å‚™å¯„çµ¦ä½ çš„å¤§è€é—†ã€‚é€™æ™‚å€™ï¼Œä½ éœ€è¦çš„ä¸æ˜¯çœ‹è‘—å®ƒã€Œé †æš¢åœ°ã€æŠŠéŒ¯äº‹åšå®Œï¼Œè€Œæ˜¯ä¸€å€‹èƒ½è®“å®ƒåœä¸‹ä¾†ã€ç­‰ä½ é»é ­çš„æ©Ÿåˆ¶ã€‚é€™å°±æ˜¯æˆ‘å€‘ä»Šå¤©è¦èŠçš„ Human-in-the-Loop (HITL)ã€‚\nä¸€ã€ ä»€éº¼æ˜¯ Human-in-the-Loopï¼Ÿ Human-in-the-Loop (HITL) æ˜¯ä¸€ç¨®ä¸­ä»‹è»Ÿé«”ï¼ˆMiddlewareï¼‰æ©Ÿåˆ¶ã€‚å®ƒåœ¨æ¨¡å‹ã€Œææ¡ˆã€åŸ·è¡ŒæŸå€‹å·¥å…·ï¼ˆTool Callï¼‰èˆ‡ã€Œå¯¦éš›åŸ·è¡Œã€ä¹‹é–“åŠ äº†ä¸€é“é—œå¡ã€‚\nç•¶æ¨¡å‹æå‡ºä¸€äº›å¯èƒ½æœ‰é¢¨éšªçš„æ“ä½œï¼ˆä¾‹å¦‚ï¼šå¯«å…¥æª”æ¡ˆã€åŸ·è¡Œ SQLï¼‰æ™‚ï¼Œä¸­ä»‹è»Ÿé«”æœƒæ ¹æ“šé è¨­çš„ç­–ç•¥ï¼ˆPolicyï¼‰æ””æˆªé€™å€‹å‹•ä½œï¼Œå°‡åŸ·è¡Œç‹€æ…‹ã€Œæš«åœã€ä¸¦ä¿å­˜èµ·ä¾†ï¼Œç­‰å¾…äººé¡çš„æœ€çµ‚æ±ºå®šã€‚\näºŒã€ HITL çš„æ ¸å¿ƒä¸‰è¦ç´  è¦å¯¦ä½œé€™å¥—ã€Œäººå·¥å¯©æ ¸ã€æ©Ÿåˆ¶ï¼ŒLangChain ä¾è³´ä»¥ä¸‹ä¸‰å€‹æ ¸å¿ƒçµ„ä»¶ï¼š\nInterrupt (ä¸­æ–·)ï¼šç•¶ç¬¦åˆæ””æˆªæ¢ä»¶æ™‚ï¼Œç³»çµ±ç™¼å‡ºä¿¡è™Ÿåœæ­¢åŸ·è¡Œã€‚ Persistence (æŒä¹…å±¤)ï¼šä½¿ç”¨ LangGraph çš„æª¢æŸ¥é»ï¼ˆCheckpointerï¼‰ä¾†ä¿å­˜ç•¶å‰çš„åœ–å½¢ç‹€æ…‹ï¼ˆGraph Stateï¼‰ã€‚é€™ç¢ºä¿äº†ç¨‹åºå¯ä»¥åœ¨æš«åœå¾Œï¼Œå³ä½¿é‡å•Ÿä¹Ÿèƒ½å¾åŸé»æ¢å¾©ã€‚ Configurable Policy (é…ç½®ç­–ç•¥)ï¼šå®šç¾©å“ªäº›å·¥å…·éœ€è¦è¢«ç›£ç£ã€‚ ä¸‰ã€ ä¸‰ç¨®äººé¡æŠ‰æ“‡ï¼šApprove, Edit, Reject ç•¶ AI è¢«æ””æˆªå¾Œï¼Œèº«ç‚ºã€Œä¸»ç®¡ã€çš„ä½ æœ‰ä¸‰ç¨®è™•ç†æ–¹å¼ï¼š\næ±ºç­–é¡å‹ èªªæ˜ ç¯„ä¾‹ âœ… approve åŸå°ä¸å‹•æ ¸å‡†åŸ·è¡Œã€‚ éƒµä»¶è‰ç¨¿æ²’å•é¡Œï¼Œç›´æ¥å¯„å‡ºã€‚ âœï¸ edit ä¿®æ”¹å·¥å…·åƒæ•¸å¾Œå†åŸ·è¡Œã€‚ å°‡éƒµä»¶çš„æ”¶ä»¶äººå¾ A æ”¹æˆ B å†å¯„å‡ºã€‚ âŒ reject æ‹’çµ•åŸ·è¡Œï¼Œä¸¦çµ¦äºˆ AI åé¥‹ã€‚ æ‹’çµ•åˆªé™¤æŒ‡ä»¤ï¼Œä¸¦å‘Šè¨´ AIï¼šã€Œé€™å¤ªå±éšªäº†ï¼Œè«‹æ”¹ç”¨æŸ¥è©¢ã€‚ã€ æ³¨æ„ï¼šåœ¨ä½¿ç”¨ edit ä¿®æ”¹åƒæ•¸æ™‚ï¼Œå»ºè­°é€²è¡Œä¿å®ˆçš„æ”¹å‹•ã€‚åŠ‡çƒˆçš„ä¿®æ”¹å¯èƒ½æœƒå°è‡´æ¨¡å‹é‡æ–°è©•ä¼°å…¶ç­–ç•¥ï¼Œé€²è€Œå¼•ç™¼éé æœŸçš„å¾ŒçºŒè¡Œç‚ºã€‚\n","keywords":["LangChain","Python"],"articleBody":" æœ¬æ–‡ç‚ºå€‹äººå­¸ç¿’ç­†è¨˜ï¼Œè¨˜éŒ„äº†å­¸ç¿’éç¨‹ä¸­çš„ä¸€äº›çŸ¥è­˜ï¼Œå¯åƒè€ƒï¼Œä½†ä¸å¯èªçœŸï¼Œå­¸ç¿’çš„éç¨‹å¯èƒ½æœ‰ç†è§£éŒ¯èª¤ï¼Œè³‡è¨Šä¸ä¸€å®šæ­£ç¢ºï¼Œç•¢ç«Ÿ Temperature éƒ½ 1.5 äº†ã€‚\né›¶ã€ å‰è¨€ æ¥çºŒä¸Šæ¬¡æˆ‘å€‘èŠåˆ°çš„ Streamingï¼Œä¸²æµè®“ AI æœ‰äº†ã€Œå‘¼å¸æ„Ÿã€ï¼Œä½†ç•¶ AI çš„ã€Œæ‰‹ã€ï¼ˆToolsï¼‰ä¼¸å‘ä¸€äº›æ•æ„Ÿå€åŸŸæ™‚ï¼Œå…‰æœ‰å‘¼å¸æ˜¯ä¸å¤ çš„ã€‚\næƒ³åƒä¸€ä¸‹ï¼šå¦‚æœä½ è®“ AI å¹«ä½ ç®¡ç†è³‡æ–™åº«ï¼Œå®ƒçªç„¶æ±ºå®šåŸ·è¡Œä¸€æ¢ DELETE FROM records åˆªæ‰ä½ éå» 30 å¤©çš„è³‡æ–™ï¼›æˆ–è€…å®ƒå¯«äº†ä¸€å°èªæ°£å¥‡æ€ªçš„ä¿¡æº–å‚™å¯„çµ¦ä½ çš„å¤§è€é—†ã€‚é€™æ™‚å€™ï¼Œä½ éœ€è¦çš„ä¸æ˜¯çœ‹è‘—å®ƒã€Œé †æš¢åœ°ã€æŠŠéŒ¯äº‹åšå®Œï¼Œè€Œæ˜¯ä¸€å€‹èƒ½è®“å®ƒåœä¸‹ä¾†ã€ç­‰ä½ é»é ­çš„æ©Ÿåˆ¶ã€‚é€™å°±æ˜¯æˆ‘å€‘ä»Šå¤©è¦èŠçš„ Human-in-the-Loop (HITL)ã€‚\nä¸€ã€ ä»€éº¼æ˜¯ Human-in-the-Loopï¼Ÿ Human-in-the-Loop (HITL) æ˜¯ä¸€ç¨®ä¸­ä»‹è»Ÿé«”ï¼ˆMiddlewareï¼‰æ©Ÿåˆ¶ã€‚å®ƒåœ¨æ¨¡å‹ã€Œææ¡ˆã€åŸ·è¡ŒæŸå€‹å·¥å…·ï¼ˆTool Callï¼‰èˆ‡ã€Œå¯¦éš›åŸ·è¡Œã€ä¹‹é–“åŠ äº†ä¸€é“é—œå¡ã€‚\nç•¶æ¨¡å‹æå‡ºä¸€äº›å¯èƒ½æœ‰é¢¨éšªçš„æ“ä½œï¼ˆä¾‹å¦‚ï¼šå¯«å…¥æª”æ¡ˆã€åŸ·è¡Œ SQLï¼‰æ™‚ï¼Œä¸­ä»‹è»Ÿé«”æœƒæ ¹æ“šé è¨­çš„ç­–ç•¥ï¼ˆPolicyï¼‰æ””æˆªé€™å€‹å‹•ä½œï¼Œå°‡åŸ·è¡Œç‹€æ…‹ã€Œæš«åœã€ä¸¦ä¿å­˜èµ·ä¾†ï¼Œç­‰å¾…äººé¡çš„æœ€çµ‚æ±ºå®šã€‚\näºŒã€ HITL çš„æ ¸å¿ƒä¸‰è¦ç´  è¦å¯¦ä½œé€™å¥—ã€Œäººå·¥å¯©æ ¸ã€æ©Ÿåˆ¶ï¼ŒLangChain ä¾è³´ä»¥ä¸‹ä¸‰å€‹æ ¸å¿ƒçµ„ä»¶ï¼š\nInterrupt (ä¸­æ–·)ï¼šç•¶ç¬¦åˆæ””æˆªæ¢ä»¶æ™‚ï¼Œç³»çµ±ç™¼å‡ºä¿¡è™Ÿåœæ­¢åŸ·è¡Œã€‚ Persistence (æŒä¹…å±¤)ï¼šä½¿ç”¨ LangGraph çš„æª¢æŸ¥é»ï¼ˆCheckpointerï¼‰ä¾†ä¿å­˜ç•¶å‰çš„åœ–å½¢ç‹€æ…‹ï¼ˆGraph Stateï¼‰ã€‚é€™ç¢ºä¿äº†ç¨‹åºå¯ä»¥åœ¨æš«åœå¾Œï¼Œå³ä½¿é‡å•Ÿä¹Ÿèƒ½å¾åŸé»æ¢å¾©ã€‚ Configurable Policy (é…ç½®ç­–ç•¥)ï¼šå®šç¾©å“ªäº›å·¥å…·éœ€è¦è¢«ç›£ç£ã€‚ ä¸‰ã€ ä¸‰ç¨®äººé¡æŠ‰æ“‡ï¼šApprove, Edit, Reject ç•¶ AI è¢«æ””æˆªå¾Œï¼Œèº«ç‚ºã€Œä¸»ç®¡ã€çš„ä½ æœ‰ä¸‰ç¨®è™•ç†æ–¹å¼ï¼š\næ±ºç­–é¡å‹ èªªæ˜ ç¯„ä¾‹ âœ… approve åŸå°ä¸å‹•æ ¸å‡†åŸ·è¡Œã€‚ éƒµä»¶è‰ç¨¿æ²’å•é¡Œï¼Œç›´æ¥å¯„å‡ºã€‚ âœï¸ edit ä¿®æ”¹å·¥å…·åƒæ•¸å¾Œå†åŸ·è¡Œã€‚ å°‡éƒµä»¶çš„æ”¶ä»¶äººå¾ A æ”¹æˆ B å†å¯„å‡ºã€‚ âŒ reject æ‹’çµ•åŸ·è¡Œï¼Œä¸¦çµ¦äºˆ AI åé¥‹ã€‚ æ‹’çµ•åˆªé™¤æŒ‡ä»¤ï¼Œä¸¦å‘Šè¨´ AIï¼šã€Œé€™å¤ªå±éšªäº†ï¼Œè«‹æ”¹ç”¨æŸ¥è©¢ã€‚ã€ æ³¨æ„ï¼šåœ¨ä½¿ç”¨ edit ä¿®æ”¹åƒæ•¸æ™‚ï¼Œå»ºè­°é€²è¡Œä¿å®ˆçš„æ”¹å‹•ã€‚åŠ‡çƒˆçš„ä¿®æ”¹å¯èƒ½æœƒå°è‡´æ¨¡å‹é‡æ–°è©•ä¼°å…¶ç­–ç•¥ï¼Œé€²è€Œå¼•ç™¼éé æœŸçš„å¾ŒçºŒè¡Œç‚ºã€‚\nå››ã€ å¦‚ä½•é…ç½® HITL ä¸­ä»‹è»Ÿé«”ï¼Ÿ åœ¨å»ºç«‹ Agent æ™‚ï¼Œæˆ‘å€‘å¯ä»¥é€é HumanInTheLoopMiddleware ä¾†æŒ‡å®šå“ªäº›å·¥å…·éœ€è¦è¢«ç›£è¦–ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 from langchain.agents import create_agent from langchain.agents.middleware import HumanInTheLoopMiddleware from langgraph.checkpoint.memory import InMemorySaver agent = create_agent( model=\"gpt-4o\", tools=[write_file_tool, execute_sql_tool, read_data_tool], middleware=[ HumanInTheLoopMiddleware( interrupt_on={ \"write_file\": True, # æ””æˆªä¸¦å…è¨±æ‰€æœ‰æ±ºç­– \"execute_sql\": { # æ””æˆªä½†ç¦æ­¢ç·¨è¼¯ \"allowed_decisions\": [\"approve\", \"reject\"] }, \"read_data\": False, # å®‰å…¨æ“ä½œï¼Œä¸æ””æˆª }, description_prefix=\"å·¥å…·åŸ·è¡Œå¾…å¯©æ ¸\", ), ], # å¿…é ˆé…ç½®æª¢æŸ¥é»ä»¥è™•ç†ä¸­æ–·èˆ‡æ¢å¾© checkpointer=InMemorySaver(), ) äº”ã€ å›æ‡‰ä¸­æ–·ï¼šCommand çš„è—è¡“ ç•¶ agent.invoke() è§¸ç™¼ä¸­æ–·æ™‚ï¼Œå›å‚³çµæœæœƒåŒ…å«ä¸€å€‹ __interrupt__ æ¬„ä½ï¼Œè£¡é¢è©³åˆ—äº†å¾…å¯©æ ¸çš„å‹•ä½œæ¸…å–®ã€‚è¦æ¢å¾©åŸ·è¡Œï¼Œæˆ‘å€‘éœ€è¦ä½¿ç”¨ Command(resume=...)ã€‚\nç¯„ä¾‹ï¼šæ‰¹å‡†åŸ·è¡Œ 1 2 3 4 5 6 7 from langgraph.types import Command # ä½¿ç”¨ç›¸åŒçš„ thread_id æ¢å¾©å°è©± agent.invoke( Command(resume={\"decisions\": [{\"type\": \"approve\"}]}), config={\"configurable\": {\"thread_id\": \"user_001\"}} ) ç¯„ä¾‹ï¼šæ‹’çµ•ä¸¦çµ¦äºˆåé¥‹ 1 2 3 4 5 6 7 8 9 agent.invoke( Command(resume={ \"decisions\": [{ \"type\": \"reject\", \"message\": \"æˆ‘ä¸å…è¨±åˆªé™¤é€™ä»½æª”æ¡ˆï¼Œè«‹å…ˆå‚™ä»½ã€‚\" }] }), config=config ) å…­ã€ ä¸²æµèˆ‡ HITL çš„çµåˆ å¦‚æœä½ åŒæ™‚ä½¿ç”¨äº† Streaming èˆ‡ HITLï¼Œä½ å¯ä»¥åœ¨ stream() çš„å¾ªç’°ä¸­ç›£æ§ __interrupt__ï¼š\n1 2 3 4 5 # ä½¿ç”¨ stream_mode=['updates', 'messages'] for mode, chunk in agent.stream(input_data, config=config, stream_mode=[\"updates\", \"messages\"]): if mode == \"updates\" and \"__interrupt__\" in chunk: print(f\"\\nğŸ›‘ è§¸ç™¼äººå·¥å¯©æ ¸ï¼š{chunk['__interrupt__']}\") # åœ¨æ­¤è™•ç­‰å¾…ä½¿ç”¨è€…è¼¸å…¥... ä¸ƒã€ çµèª Human-in-the-Loop ç‚º AI Agent è£œä¸Šäº†æœ€å¾Œä¸€å¡Šã€Œå®‰å…¨æ€§ã€æ‹¼åœ–ã€‚å®ƒè®“ AI ä¸å†æ˜¯ä¸€å€‹ä¸å¯æ§çš„é»‘ç›’ï¼Œè€Œæ˜¯ä¸€å€‹æœƒé©æ™‚åœä¸‹ä¾†å¾µè©¢æ„è¦‹çš„åŠ©æ‰‹ã€‚\nç•¶ AI å…·å‚™äº† Toolsï¼ˆæ‰‹ï¼‰ã€Streamingï¼ˆå‘¼å¸ï¼‰ä»¥åŠ HITLï¼ˆå®‰å…¨å‰è»Šï¼‰å¾Œï¼Œå®ƒæ‰èƒ½çœŸæ­£èµ°é€²ç”Ÿç”¢ç’°å¢ƒï¼Œè™•ç†é‚£äº›å…·å‚™æ³•å¾‹ã€è²¡å‹™æˆ–è³‡æ–™é¢¨éšªçš„çœŸå¯¦ä»»å‹™ã€‚\n","wordCount":"266","inLanguage":"en","datePublished":"2025-10-18T00:00:00Z","dateModified":"2025-10-18T00:00:00Z","author":{"@type":"Person","name":"Aura"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://aura.codex.tw/posts/temp1.5/ep5/"},"publisher":{"@type":"Organization","name":"Aura's Space","logo":{"@type":"ImageObject","url":"https://aura.codex.tw/images/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://aura.codex.tw/ accesskey=h title="Aura's Space (Alt + H)"><img src=https://aura.codex.tw/images/favicon.ico alt aria-label=logo height=35>Aura's Space</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://aura.codex.tw/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://aura.codex.tw/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://aura.codex.tw/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://aura.codex.tw/about/ title=About><span>About</span></a></li><li><a href=https://aura.codex.tw/search/ title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://aura.codex.tw/>Home</a>&nbsp;Â»&nbsp;<a href=https://aura.codex.tw/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">ã€Temperature 1.5 çš„æ—¥å¸¸ã€‘EP5: LangChain - Human-in-the-Loop, çµ¦ AI çš„ã€Œç·Šæ€¥ç…è»Šã€</h1><div class=post-meta><span title='2025-10-18 00:00:00 +0000 UTC'>October 18, 2025</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>Aura</span></div></header><ul class=post-tags><li><a href=https://aura.codex.tw/tags/langchain/>LangChain</a></li><li><a href=https://aura.codex.tw/tags/python/>Python</a></li></ul><div class=post-content><hr><blockquote><p>æœ¬æ–‡ç‚ºå€‹äººå­¸ç¿’ç­†è¨˜ï¼Œè¨˜éŒ„äº†å­¸ç¿’éç¨‹ä¸­çš„ä¸€äº›çŸ¥è­˜ï¼Œå¯åƒè€ƒï¼Œä½†ä¸å¯èªçœŸï¼Œå­¸ç¿’çš„éç¨‹å¯èƒ½æœ‰ç†è§£éŒ¯èª¤ï¼Œè³‡è¨Šä¸ä¸€å®šæ­£ç¢ºï¼Œç•¢ç«Ÿ Temperature éƒ½ 1.5 äº†ã€‚</p></blockquote><hr><h3 id=é›¶-å‰è¨€>é›¶ã€ å‰è¨€<a hidden class=anchor aria-hidden=true href=#é›¶-å‰è¨€>#</a></h3><p>æ¥çºŒä¸Šæ¬¡æˆ‘å€‘èŠåˆ°çš„ <strong>Streaming</strong>ï¼Œä¸²æµè®“ AI æœ‰äº†ã€Œå‘¼å¸æ„Ÿã€ï¼Œä½†ç•¶ AI çš„ã€Œæ‰‹ã€ï¼ˆToolsï¼‰ä¼¸å‘ä¸€äº›æ•æ„Ÿå€åŸŸæ™‚ï¼Œå…‰æœ‰å‘¼å¸æ˜¯ä¸å¤ çš„ã€‚</p><p>æƒ³åƒä¸€ä¸‹ï¼šå¦‚æœä½ è®“ AI å¹«ä½ ç®¡ç†è³‡æ–™åº«ï¼Œå®ƒçªç„¶æ±ºå®šåŸ·è¡Œä¸€æ¢ <code>DELETE FROM records</code> åˆªæ‰ä½ éå» 30 å¤©çš„è³‡æ–™ï¼›æˆ–è€…å®ƒå¯«äº†ä¸€å°èªæ°£å¥‡æ€ªçš„ä¿¡æº–å‚™å¯„çµ¦ä½ çš„å¤§è€é—†ã€‚é€™æ™‚å€™ï¼Œä½ éœ€è¦çš„ä¸æ˜¯çœ‹è‘—å®ƒã€Œé †æš¢åœ°ã€æŠŠéŒ¯äº‹åšå®Œï¼Œè€Œæ˜¯ä¸€å€‹èƒ½è®“å®ƒåœä¸‹ä¾†ã€ç­‰ä½ é»é ­çš„æ©Ÿåˆ¶ã€‚é€™å°±æ˜¯æˆ‘å€‘ä»Šå¤©è¦èŠçš„ <strong>Human-in-the-Loop (HITL)</strong>ã€‚</p><hr><h3 id=ä¸€-ä»€éº¼æ˜¯-human-in-the-loop>ä¸€ã€ ä»€éº¼æ˜¯ Human-in-the-Loopï¼Ÿ<a hidden class=anchor aria-hidden=true href=#ä¸€-ä»€éº¼æ˜¯-human-in-the-loop>#</a></h3><p><strong>Human-in-the-Loop (HITL)</strong> æ˜¯ä¸€ç¨®ä¸­ä»‹è»Ÿé«”ï¼ˆMiddlewareï¼‰æ©Ÿåˆ¶ã€‚å®ƒåœ¨æ¨¡å‹ã€Œææ¡ˆã€åŸ·è¡ŒæŸå€‹å·¥å…·ï¼ˆTool Callï¼‰èˆ‡ã€Œå¯¦éš›åŸ·è¡Œã€ä¹‹é–“åŠ äº†ä¸€é“é—œå¡ã€‚</p><p>ç•¶æ¨¡å‹æå‡ºä¸€äº›å¯èƒ½æœ‰é¢¨éšªçš„æ“ä½œï¼ˆä¾‹å¦‚ï¼šå¯«å…¥æª”æ¡ˆã€åŸ·è¡Œ SQLï¼‰æ™‚ï¼Œä¸­ä»‹è»Ÿé«”æœƒæ ¹æ“šé è¨­çš„ç­–ç•¥ï¼ˆPolicyï¼‰æ””æˆªé€™å€‹å‹•ä½œï¼Œå°‡åŸ·è¡Œç‹€æ…‹ã€Œæš«åœã€ä¸¦ä¿å­˜èµ·ä¾†ï¼Œç­‰å¾…äººé¡çš„æœ€çµ‚æ±ºå®šã€‚</p><hr><h3 id=äºŒ-hitl-çš„æ ¸å¿ƒä¸‰è¦ç´ >äºŒã€ HITL çš„æ ¸å¿ƒä¸‰è¦ç´ <a hidden class=anchor aria-hidden=true href=#äºŒ-hitl-çš„æ ¸å¿ƒä¸‰è¦ç´ >#</a></h3><p>è¦å¯¦ä½œé€™å¥—ã€Œäººå·¥å¯©æ ¸ã€æ©Ÿåˆ¶ï¼ŒLangChain ä¾è³´ä»¥ä¸‹ä¸‰å€‹æ ¸å¿ƒçµ„ä»¶ï¼š</p><ol><li><strong>Interrupt (ä¸­æ–·)</strong>ï¼šç•¶ç¬¦åˆæ””æˆªæ¢ä»¶æ™‚ï¼Œç³»çµ±ç™¼å‡ºä¿¡è™Ÿåœæ­¢åŸ·è¡Œã€‚</li><li><strong>Persistence (æŒä¹…å±¤)</strong>ï¼šä½¿ç”¨ LangGraph çš„æª¢æŸ¥é»ï¼ˆCheckpointerï¼‰ä¾†ä¿å­˜ç•¶å‰çš„åœ–å½¢ç‹€æ…‹ï¼ˆGraph Stateï¼‰ã€‚é€™ç¢ºä¿äº†ç¨‹åºå¯ä»¥åœ¨æš«åœå¾Œï¼Œå³ä½¿é‡å•Ÿä¹Ÿèƒ½å¾åŸé»æ¢å¾©ã€‚</li><li><strong>Configurable Policy (é…ç½®ç­–ç•¥)</strong>ï¼šå®šç¾©å“ªäº›å·¥å…·éœ€è¦è¢«ç›£ç£ã€‚</li></ol><hr><h3 id=ä¸‰-ä¸‰ç¨®äººé¡æŠ‰æ“‡approve-edit-reject>ä¸‰ã€ ä¸‰ç¨®äººé¡æŠ‰æ“‡ï¼šApprove, Edit, Reject<a hidden class=anchor aria-hidden=true href=#ä¸‰-ä¸‰ç¨®äººé¡æŠ‰æ“‡approve-edit-reject>#</a></h3><p>ç•¶ AI è¢«æ””æˆªå¾Œï¼Œèº«ç‚ºã€Œä¸»ç®¡ã€çš„ä½ æœ‰ä¸‰ç¨®è™•ç†æ–¹å¼ï¼š</p><table><thead><tr><th>æ±ºç­–é¡å‹</th><th>èªªæ˜</th><th>ç¯„ä¾‹</th></tr></thead><tbody><tr><td>âœ… <strong><code>approve</code></strong></td><td>åŸå°ä¸å‹•æ ¸å‡†åŸ·è¡Œã€‚</td><td>éƒµä»¶è‰ç¨¿æ²’å•é¡Œï¼Œç›´æ¥å¯„å‡ºã€‚</td></tr><tr><td>âœï¸ <strong><code>edit</code></strong></td><td>ä¿®æ”¹å·¥å…·åƒæ•¸å¾Œå†åŸ·è¡Œã€‚</td><td>å°‡éƒµä»¶çš„æ”¶ä»¶äººå¾ A æ”¹æˆ B å†å¯„å‡ºã€‚</td></tr><tr><td>âŒ <strong><code>reject</code></strong></td><td>æ‹’çµ•åŸ·è¡Œï¼Œä¸¦çµ¦äºˆ AI åé¥‹ã€‚</td><td>æ‹’çµ•åˆªé™¤æŒ‡ä»¤ï¼Œä¸¦å‘Šè¨´ AIï¼šã€Œé€™å¤ªå±éšªäº†ï¼Œè«‹æ”¹ç”¨æŸ¥è©¢ã€‚ã€</td></tr></tbody></table><blockquote><p><strong>æ³¨æ„</strong>ï¼šåœ¨ä½¿ç”¨ <code>edit</code> ä¿®æ”¹åƒæ•¸æ™‚ï¼Œå»ºè­°é€²è¡Œä¿å®ˆçš„æ”¹å‹•ã€‚åŠ‡çƒˆçš„ä¿®æ”¹å¯èƒ½æœƒå°è‡´æ¨¡å‹é‡æ–°è©•ä¼°å…¶ç­–ç•¥ï¼Œé€²è€Œå¼•ç™¼éé æœŸçš„å¾ŒçºŒè¡Œç‚ºã€‚</p></blockquote><hr><h3 id=å››-å¦‚ä½•é…ç½®-hitl-ä¸­ä»‹è»Ÿé«”>å››ã€ å¦‚ä½•é…ç½® HITL ä¸­ä»‹è»Ÿé«”ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#å››-å¦‚ä½•é…ç½®-hitl-ä¸­ä»‹è»Ÿé«”>#</a></h3><p>åœ¨å»ºç«‹ Agent æ™‚ï¼Œæˆ‘å€‘å¯ä»¥é€é <code>HumanInTheLoopMiddleware</code> ä¾†æŒ‡å®šå“ªäº›å·¥å…·éœ€è¦è¢«ç›£è¦–ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langchain.agents</span> <span class=kn>import</span> <span class=n>create_agent</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langchain.agents.middleware</span> <span class=kn>import</span> <span class=n>HumanInTheLoopMiddleware</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.checkpoint.memory</span> <span class=kn>import</span> <span class=n>InMemorySaver</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>agent</span> <span class=o>=</span> <span class=n>create_agent</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span><span class=o>=</span><span class=s2>&#34;gpt-4o&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>tools</span><span class=o>=</span><span class=p>[</span><span class=n>write_file_tool</span><span class=p>,</span> <span class=n>execute_sql_tool</span><span class=p>,</span> <span class=n>read_data_tool</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>middleware</span><span class=o>=</span><span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=n>HumanInTheLoopMiddleware</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>interrupt_on</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;write_file&#34;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>           <span class=c1># æ””æˆªä¸¦å…è¨±æ‰€æœ‰æ±ºç­–</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;execute_sql&#34;</span><span class=p>:</span> <span class=p>{</span>              <span class=c1># æ””æˆªä½†ç¦æ­¢ç·¨è¼¯</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;allowed_decisions&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;approve&#34;</span><span class=p>,</span> <span class=s2>&#34;reject&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;read_data&#34;</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>           <span class=c1># å®‰å…¨æ“ä½œï¼Œä¸æ””æˆª</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=n>description_prefix</span><span class=o>=</span><span class=s2>&#34;å·¥å…·åŸ·è¡Œå¾…å¯©æ ¸&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=c1># å¿…é ˆé…ç½®æª¢æŸ¥é»ä»¥è™•ç†ä¸­æ–·èˆ‡æ¢å¾©</span>
</span></span><span class=line><span class=cl>    <span class=n>checkpointer</span><span class=o>=</span><span class=n>InMemorySaver</span><span class=p>(),</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=äº”-å›æ‡‰ä¸­æ–·command-çš„è—è¡“>äº”ã€ å›æ‡‰ä¸­æ–·ï¼šCommand çš„è—è¡“<a hidden class=anchor aria-hidden=true href=#äº”-å›æ‡‰ä¸­æ–·command-çš„è—è¡“>#</a></h3><p>ç•¶ <code>agent.invoke()</code> è§¸ç™¼ä¸­æ–·æ™‚ï¼Œå›å‚³çµæœæœƒåŒ…å«ä¸€å€‹ <code>__interrupt__</code> æ¬„ä½ï¼Œè£¡é¢è©³åˆ—äº†å¾…å¯©æ ¸çš„å‹•ä½œæ¸…å–®ã€‚è¦æ¢å¾©åŸ·è¡Œï¼Œæˆ‘å€‘éœ€è¦ä½¿ç”¨ <code>Command(resume=...)</code>ã€‚</p><h4 id=ç¯„ä¾‹æ‰¹å‡†åŸ·è¡Œ>ç¯„ä¾‹ï¼šæ‰¹å‡†åŸ·è¡Œ<a hidden class=anchor aria-hidden=true href=#ç¯„ä¾‹æ‰¹å‡†åŸ·è¡Œ>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>langgraph.types</span> <span class=kn>import</span> <span class=n>Command</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ä½¿ç”¨ç›¸åŒçš„ thread_id æ¢å¾©å°è©±</span>
</span></span><span class=line><span class=cl><span class=n>agent</span><span class=o>.</span><span class=n>invoke</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>Command</span><span class=p>(</span><span class=n>resume</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;decisions&#34;</span><span class=p>:</span> <span class=p>[{</span><span class=s2>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;approve&#34;</span><span class=p>}]}),</span>
</span></span><span class=line><span class=cl>    <span class=n>config</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;configurable&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;thread_id&#34;</span><span class=p>:</span> <span class=s2>&#34;user_001&#34;</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=ç¯„ä¾‹æ‹’çµ•ä¸¦çµ¦äºˆåé¥‹>ç¯„ä¾‹ï¼šæ‹’çµ•ä¸¦çµ¦äºˆåé¥‹<a hidden class=anchor aria-hidden=true href=#ç¯„ä¾‹æ‹’çµ•ä¸¦çµ¦äºˆåé¥‹>#</a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>agent</span><span class=o>.</span><span class=n>invoke</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>Command</span><span class=p>(</span><span class=n>resume</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;decisions&#34;</span><span class=p>:</span> <span class=p>[{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;reject&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;æˆ‘ä¸å…è¨±åˆªé™¤é€™ä»½æª”æ¡ˆï¼Œè«‹å…ˆå‚™ä»½ã€‚&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}]</span>
</span></span><span class=line><span class=cl>    <span class=p>}),</span>
</span></span><span class=line><span class=cl>    <span class=n>config</span><span class=o>=</span><span class=n>config</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=å…­-ä¸²æµèˆ‡-hitl-çš„çµåˆ>å…­ã€ ä¸²æµèˆ‡ HITL çš„çµåˆ<a hidden class=anchor aria-hidden=true href=#å…­-ä¸²æµèˆ‡-hitl-çš„çµåˆ>#</a></h3><p>å¦‚æœä½ åŒæ™‚ä½¿ç”¨äº† Streaming èˆ‡ HITLï¼Œä½ å¯ä»¥åœ¨ <code>stream()</code> çš„å¾ªç’°ä¸­ç›£æ§ <code>__interrupt__</code>ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># ä½¿ç”¨ stream_mode=[&#39;updates&#39;, &#39;messages&#39;]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>mode</span><span class=p>,</span> <span class=n>chunk</span> <span class=ow>in</span> <span class=n>agent</span><span class=o>.</span><span class=n>stream</span><span class=p>(</span><span class=n>input_data</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=n>config</span><span class=p>,</span> <span class=n>stream_mode</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;updates&#34;</span><span class=p>,</span> <span class=s2>&#34;messages&#34;</span><span class=p>]):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>mode</span> <span class=o>==</span> <span class=s2>&#34;updates&#34;</span> <span class=ow>and</span> <span class=s2>&#34;__interrupt__&#34;</span> <span class=ow>in</span> <span class=n>chunk</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>ğŸ›‘ è§¸ç™¼äººå·¥å¯©æ ¸ï¼š</span><span class=si>{</span><span class=n>chunk</span><span class=p>[</span><span class=s1>&#39;__interrupt__&#39;</span><span class=p>]</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># åœ¨æ­¤è™•ç­‰å¾…ä½¿ç”¨è€…è¼¸å…¥...</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=ä¸ƒ-çµèª>ä¸ƒã€ çµèª<a hidden class=anchor aria-hidden=true href=#ä¸ƒ-çµèª>#</a></h3><p><strong>Human-in-the-Loop</strong> ç‚º AI Agent è£œä¸Šäº†æœ€å¾Œä¸€å¡Šã€Œå®‰å…¨æ€§ã€æ‹¼åœ–ã€‚å®ƒè®“ AI ä¸å†æ˜¯ä¸€å€‹ä¸å¯æ§çš„é»‘ç›’ï¼Œè€Œæ˜¯ä¸€å€‹æœƒé©æ™‚åœä¸‹ä¾†å¾µè©¢æ„è¦‹çš„åŠ©æ‰‹ã€‚</p><p>ç•¶ AI å…·å‚™äº† <strong>Tools</strong>ï¼ˆæ‰‹ï¼‰ã€<strong>Streaming</strong>ï¼ˆå‘¼å¸ï¼‰ä»¥åŠ <strong>HITL</strong>ï¼ˆå®‰å…¨å‰è»Šï¼‰å¾Œï¼Œå®ƒæ‰èƒ½çœŸæ­£èµ°é€²ç”Ÿç”¢ç’°å¢ƒï¼Œè™•ç†é‚£äº›å…·å‚™æ³•å¾‹ã€è²¡å‹™æˆ–è³‡æ–™é¢¨éšªçš„çœŸå¯¦ä»»å‹™ã€‚</p></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2022~2025 <a href=https://aura.codex.tw/>Aura's Space</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>