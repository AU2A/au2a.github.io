<!doctype html><html lang=en dir=auto data-theme=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>APCS-2021-11 | Aura's Space</title><meta name=keywords content="C++"><meta name=description content="1. ä¿®è£œåœç±¬
è§£é¡Œæ­¥é©Ÿ

è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦ï¼šè®€å–åœç±¬çš„ç¸½æ•¸é‡ nï¼Œæ¥è‘—ä½¿ç”¨è¿´åœˆè®€å– n å€‹åœç±¬å„è‡ªçš„é«˜åº¦ï¼Œä¸¦å­˜å…¥ä¸€å€‹ vectorï¼ˆæˆ–é™£åˆ—ï¼‰fence ä¸­ã€‚
åˆå§‹åŒ–æˆæœ¬è®Šæ•¸ï¼šå®£å‘Šä¸€å€‹æ•´æ•¸è®Šæ•¸ ans ä¸¦å°‡å…¶åˆå§‹åŒ–ç‚º 0ï¼Œç”¨ä¾†ç´¯è¨ˆä¿®è£œåœç±¬æ‰€éœ€çš„ç¸½æˆæœ¬ã€‚
éæ­·åœç±¬ä¸¦åˆ¤æ–·ï¼šä½¿ç”¨ for è¿´åœˆå¾é ­åˆ°å°¾æª¢æŸ¥æ¯ä¸€å€‹åœç±¬ï¼ˆç´¢å¼• i å¾ 0 åˆ° n-1ï¼‰ã€‚
æª¢æŸ¥æ˜¯å¦æå£ï¼šåœ¨è¿´åœˆä¸­ï¼Œåˆ¤æ–· fence[i] æ˜¯å¦ç­‰æ–¼ 0ã€‚å¦‚æœç­‰æ–¼ 0ï¼Œè¡¨ç¤ºé€™å€‹ä½ç½®çš„åœç±¬æ–·äº†ï¼Œéœ€è¦ä¿®è£œã€‚
è™•ç†é‚Šç•Œèˆ‡ä¸­é–“æƒ…æ³ï¼š

å·¦é‚Šç•Œï¼šå¦‚æœ i == 0ï¼ˆç¬¬ä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å³å´é„°å±… fence[1] çš„é«˜åº¦ã€‚
å³é‚Šç•Œï¼šå¦‚æœ i == n-1ï¼ˆæœ€å¾Œä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å·¦å´é„°å±… fence[n-2] çš„é«˜åº¦ã€‚
ä¸­é–“ï¼šå¦‚æœä¸æ˜¯é‚Šç•Œï¼Œå‰‡æ¯”è¼ƒå…¶å·¦å´ fence[i-1] å’Œå³å´ fence[i+1] çš„é«˜åº¦ï¼Œå–è¼ƒå°çš„é‚£å€‹é«˜åº¦åŠ å…¥ç¸½æˆæœ¬ ansã€‚


è¼¸å‡ºæœ€çµ‚æˆæœ¬ï¼šè¿´åœˆçµæŸå¾Œï¼Œans ä¸­å„²å­˜çš„å°±æ˜¯ä¿®è£œæ‰€æœ‰æ–·æ‰åœç±¬çš„ç¸½æˆæœ¬ï¼Œå°‡å…¶è¼¸å‡ºã€‚

åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼
è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11


#include<iostream>
#include<vector>
using namespace std;

int main(){
    int n; //åœç±¬æ•¸é‡
    cin >> n;
    vector<int> fence(n); //åœç±¬é«˜åº¦
    for(int i=0;i<n;i++){
        cin >> fence[i];
    }


é€™æ®µç¨‹å¼ç¢¼é¦–å…ˆå¼•å…¥å¿…è¦çš„å‡½å¼åº«ï¼Œç„¶å¾Œè®€å–åœç±¬æ•¸é‡ nï¼Œä¸¦å®£å‘Šä¸€å€‹å¤§å°ç‚º n çš„ vector å« fenceã€‚æ¥è‘—ï¼Œå®ƒä½¿ç”¨ä¸€å€‹ for è¿´åœˆä¾†è®€å– n æ¬¡ï¼Œå°‡æ¯å€‹åœç±¬çš„é«˜åº¦å­˜å…¥ vector ä¸­ã€‚"><meta name=author content="Aura"><link rel=canonical href=http://localhost:1313/posts/apcs/apcs-2021-11/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/images/favicon.ico><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/images/favicon.ico><link rel=apple-touch-icon href=http://localhost:1313/images/favicon.ico><link rel=mask-icon href=http://localhost:1313/images/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/apcs/apcs-2021-11/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="http://localhost:1313/posts/apcs/apcs-2021-11/"><meta property="og:site_name" content="Aura's Space"><meta property="og:title" content="APCS-2021-11"><meta property="og:description" content="1. ä¿®è£œåœç±¬ è§£é¡Œæ­¥é©Ÿ è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦ï¼šè®€å–åœç±¬çš„ç¸½æ•¸é‡ nï¼Œæ¥è‘—ä½¿ç”¨è¿´åœˆè®€å– n å€‹åœç±¬å„è‡ªçš„é«˜åº¦ï¼Œä¸¦å­˜å…¥ä¸€å€‹ vectorï¼ˆæˆ–é™£åˆ—ï¼‰fence ä¸­ã€‚ åˆå§‹åŒ–æˆæœ¬è®Šæ•¸ï¼šå®£å‘Šä¸€å€‹æ•´æ•¸è®Šæ•¸ ans ä¸¦å°‡å…¶åˆå§‹åŒ–ç‚º 0ï¼Œç”¨ä¾†ç´¯è¨ˆä¿®è£œåœç±¬æ‰€éœ€çš„ç¸½æˆæœ¬ã€‚ éæ­·åœç±¬ä¸¦åˆ¤æ–·ï¼šä½¿ç”¨ for è¿´åœˆå¾é ­åˆ°å°¾æª¢æŸ¥æ¯ä¸€å€‹åœç±¬ï¼ˆç´¢å¼• i å¾ 0 åˆ° n-1ï¼‰ã€‚ æª¢æŸ¥æ˜¯å¦æå£ï¼šåœ¨è¿´åœˆä¸­ï¼Œåˆ¤æ–· fence[i] æ˜¯å¦ç­‰æ–¼ 0ã€‚å¦‚æœç­‰æ–¼ 0ï¼Œè¡¨ç¤ºé€™å€‹ä½ç½®çš„åœç±¬æ–·äº†ï¼Œéœ€è¦ä¿®è£œã€‚ è™•ç†é‚Šç•Œèˆ‡ä¸­é–“æƒ…æ³ï¼š å·¦é‚Šç•Œï¼šå¦‚æœ i == 0ï¼ˆç¬¬ä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å³å´é„°å±… fence[1] çš„é«˜åº¦ã€‚ å³é‚Šç•Œï¼šå¦‚æœ i == n-1ï¼ˆæœ€å¾Œä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å·¦å´é„°å±… fence[n-2] çš„é«˜åº¦ã€‚ ä¸­é–“ï¼šå¦‚æœä¸æ˜¯é‚Šç•Œï¼Œå‰‡æ¯”è¼ƒå…¶å·¦å´ fence[i-1] å’Œå³å´ fence[i+1] çš„é«˜åº¦ï¼Œå–è¼ƒå°çš„é‚£å€‹é«˜åº¦åŠ å…¥ç¸½æˆæœ¬ ansã€‚ è¼¸å‡ºæœ€çµ‚æˆæœ¬ï¼šè¿´åœˆçµæŸå¾Œï¼Œans ä¸­å„²å­˜çš„å°±æ˜¯ä¿®è£œæ‰€æœ‰æ–·æ‰åœç±¬çš„ç¸½æˆæœ¬ï¼Œå°‡å…¶è¼¸å‡ºã€‚ åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼ è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦ 1 2 3 4 5 6 7 8 9 10 11 #include<iostream> #include<vector> using namespace std; int main(){ int n; //åœç±¬æ•¸é‡ cin >> n; vector<int> fence(n); //åœç±¬é«˜åº¦ for(int i=0;i<n;i++){ cin >> fence[i]; } é€™æ®µç¨‹å¼ç¢¼é¦–å…ˆå¼•å…¥å¿…è¦çš„å‡½å¼åº«ï¼Œç„¶å¾Œè®€å–åœç±¬æ•¸é‡ nï¼Œä¸¦å®£å‘Šä¸€å€‹å¤§å°ç‚º n çš„ vector å« fenceã€‚æ¥è‘—ï¼Œå®ƒä½¿ç”¨ä¸€å€‹ for è¿´åœˆä¾†è®€å– n æ¬¡ï¼Œå°‡æ¯å€‹åœç±¬çš„é«˜åº¦å­˜å…¥ vector ä¸­ã€‚"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-10-26T20:22:55+00:00"><meta property="article:modified_time" content="2025-10-26T20:22:55+00:00"><meta property="article:tag" content="C++"><meta name=twitter:card content="summary"><meta name=twitter:title content="APCS-2021-11"><meta name=twitter:description content="1. ä¿®è£œåœç±¬
è§£é¡Œæ­¥é©Ÿ

è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦ï¼šè®€å–åœç±¬çš„ç¸½æ•¸é‡ nï¼Œæ¥è‘—ä½¿ç”¨è¿´åœˆè®€å– n å€‹åœç±¬å„è‡ªçš„é«˜åº¦ï¼Œä¸¦å­˜å…¥ä¸€å€‹ vectorï¼ˆæˆ–é™£åˆ—ï¼‰fence ä¸­ã€‚
åˆå§‹åŒ–æˆæœ¬è®Šæ•¸ï¼šå®£å‘Šä¸€å€‹æ•´æ•¸è®Šæ•¸ ans ä¸¦å°‡å…¶åˆå§‹åŒ–ç‚º 0ï¼Œç”¨ä¾†ç´¯è¨ˆä¿®è£œåœç±¬æ‰€éœ€çš„ç¸½æˆæœ¬ã€‚
éæ­·åœç±¬ä¸¦åˆ¤æ–·ï¼šä½¿ç”¨ for è¿´åœˆå¾é ­åˆ°å°¾æª¢æŸ¥æ¯ä¸€å€‹åœç±¬ï¼ˆç´¢å¼• i å¾ 0 åˆ° n-1ï¼‰ã€‚
æª¢æŸ¥æ˜¯å¦æå£ï¼šåœ¨è¿´åœˆä¸­ï¼Œåˆ¤æ–· fence[i] æ˜¯å¦ç­‰æ–¼ 0ã€‚å¦‚æœç­‰æ–¼ 0ï¼Œè¡¨ç¤ºé€™å€‹ä½ç½®çš„åœç±¬æ–·äº†ï¼Œéœ€è¦ä¿®è£œã€‚
è™•ç†é‚Šç•Œèˆ‡ä¸­é–“æƒ…æ³ï¼š

å·¦é‚Šç•Œï¼šå¦‚æœ i == 0ï¼ˆç¬¬ä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å³å´é„°å±… fence[1] çš„é«˜åº¦ã€‚
å³é‚Šç•Œï¼šå¦‚æœ i == n-1ï¼ˆæœ€å¾Œä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å·¦å´é„°å±… fence[n-2] çš„é«˜åº¦ã€‚
ä¸­é–“ï¼šå¦‚æœä¸æ˜¯é‚Šç•Œï¼Œå‰‡æ¯”è¼ƒå…¶å·¦å´ fence[i-1] å’Œå³å´ fence[i+1] çš„é«˜åº¦ï¼Œå–è¼ƒå°çš„é‚£å€‹é«˜åº¦åŠ å…¥ç¸½æˆæœ¬ ansã€‚


è¼¸å‡ºæœ€çµ‚æˆæœ¬ï¼šè¿´åœˆçµæŸå¾Œï¼Œans ä¸­å„²å­˜çš„å°±æ˜¯ä¿®è£œæ‰€æœ‰æ–·æ‰åœç±¬çš„ç¸½æˆæœ¬ï¼Œå°‡å…¶è¼¸å‡ºã€‚

åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼
è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11


#include<iostream>
#include<vector>
using namespace std;

int main(){
    int n; //åœç±¬æ•¸é‡
    cin >> n;
    vector<int> fence(n); //åœç±¬é«˜åº¦
    for(int i=0;i<n;i++){
        cin >> fence[i];
    }


é€™æ®µç¨‹å¼ç¢¼é¦–å…ˆå¼•å…¥å¿…è¦çš„å‡½å¼åº«ï¼Œç„¶å¾Œè®€å–åœç±¬æ•¸é‡ nï¼Œä¸¦å®£å‘Šä¸€å€‹å¤§å°ç‚º n çš„ vector å« fenceã€‚æ¥è‘—ï¼Œå®ƒä½¿ç”¨ä¸€å€‹ for è¿´åœˆä¾†è®€å– n æ¬¡ï¼Œå°‡æ¯å€‹åœç±¬çš„é«˜åº¦å­˜å…¥ vector ä¸­ã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"APCS-2021-11","item":"http://localhost:1313/posts/apcs/apcs-2021-11/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"APCS-2021-11","name":"APCS-2021-11","description":"1. ä¿®è£œåœç±¬ è§£é¡Œæ­¥é©Ÿ è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦ï¼šè®€å–åœç±¬çš„ç¸½æ•¸é‡ nï¼Œæ¥è‘—ä½¿ç”¨è¿´åœˆè®€å– n å€‹åœç±¬å„è‡ªçš„é«˜åº¦ï¼Œä¸¦å­˜å…¥ä¸€å€‹ vectorï¼ˆæˆ–é™£åˆ—ï¼‰fence ä¸­ã€‚ åˆå§‹åŒ–æˆæœ¬è®Šæ•¸ï¼šå®£å‘Šä¸€å€‹æ•´æ•¸è®Šæ•¸ ans ä¸¦å°‡å…¶åˆå§‹åŒ–ç‚º 0ï¼Œç”¨ä¾†ç´¯è¨ˆä¿®è£œåœç±¬æ‰€éœ€çš„ç¸½æˆæœ¬ã€‚ éæ­·åœç±¬ä¸¦åˆ¤æ–·ï¼šä½¿ç”¨ for è¿´åœˆå¾é ­åˆ°å°¾æª¢æŸ¥æ¯ä¸€å€‹åœç±¬ï¼ˆç´¢å¼• i å¾ 0 åˆ° n-1ï¼‰ã€‚ æª¢æŸ¥æ˜¯å¦æå£ï¼šåœ¨è¿´åœˆä¸­ï¼Œåˆ¤æ–· fence[i] æ˜¯å¦ç­‰æ–¼ 0ã€‚å¦‚æœç­‰æ–¼ 0ï¼Œè¡¨ç¤ºé€™å€‹ä½ç½®çš„åœç±¬æ–·äº†ï¼Œéœ€è¦ä¿®è£œã€‚ è™•ç†é‚Šç•Œèˆ‡ä¸­é–“æƒ…æ³ï¼š å·¦é‚Šç•Œï¼šå¦‚æœ i == 0ï¼ˆç¬¬ä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å³å´é„°å±… fence[1] çš„é«˜åº¦ã€‚ å³é‚Šç•Œï¼šå¦‚æœ i == n-1ï¼ˆæœ€å¾Œä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å·¦å´é„°å±… fence[n-2] çš„é«˜åº¦ã€‚ ä¸­é–“ï¼šå¦‚æœä¸æ˜¯é‚Šç•Œï¼Œå‰‡æ¯”è¼ƒå…¶å·¦å´ fence[i-1] å’Œå³å´ fence[i+1] çš„é«˜åº¦ï¼Œå–è¼ƒå°çš„é‚£å€‹é«˜åº¦åŠ å…¥ç¸½æˆæœ¬ ansã€‚ è¼¸å‡ºæœ€çµ‚æˆæœ¬ï¼šè¿´åœˆçµæŸå¾Œï¼Œans ä¸­å„²å­˜çš„å°±æ˜¯ä¿®è£œæ‰€æœ‰æ–·æ‰åœç±¬çš„ç¸½æˆæœ¬ï¼Œå°‡å…¶è¼¸å‡ºã€‚ åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼ è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦ 1 2 3 4 5 6 7 8 9 10 11 #include\u0026lt;iostream\u0026gt; #include\u0026lt;vector\u0026gt; using namespace std; int main(){ int n; //åœç±¬æ•¸é‡ cin \u0026gt;\u0026gt; n; vector\u0026lt;int\u0026gt; fence(n); //åœç±¬é«˜åº¦ for(int i=0;i\u0026lt;n;i++){ cin \u0026gt;\u0026gt; fence[i]; } é€™æ®µç¨‹å¼ç¢¼é¦–å…ˆå¼•å…¥å¿…è¦çš„å‡½å¼åº«ï¼Œç„¶å¾Œè®€å–åœç±¬æ•¸é‡ nï¼Œä¸¦å®£å‘Šä¸€å€‹å¤§å°ç‚º n çš„ vector å« fenceã€‚æ¥è‘—ï¼Œå®ƒä½¿ç”¨ä¸€å€‹ for è¿´åœˆä¾†è®€å– n æ¬¡ï¼Œå°‡æ¯å€‹åœç±¬çš„é«˜åº¦å­˜å…¥ vector ä¸­ã€‚\n","keywords":["C++"],"articleBody":"1. ä¿®è£œåœç±¬ è§£é¡Œæ­¥é©Ÿ è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦ï¼šè®€å–åœç±¬çš„ç¸½æ•¸é‡ nï¼Œæ¥è‘—ä½¿ç”¨è¿´åœˆè®€å– n å€‹åœç±¬å„è‡ªçš„é«˜åº¦ï¼Œä¸¦å­˜å…¥ä¸€å€‹ vectorï¼ˆæˆ–é™£åˆ—ï¼‰fence ä¸­ã€‚ åˆå§‹åŒ–æˆæœ¬è®Šæ•¸ï¼šå®£å‘Šä¸€å€‹æ•´æ•¸è®Šæ•¸ ans ä¸¦å°‡å…¶åˆå§‹åŒ–ç‚º 0ï¼Œç”¨ä¾†ç´¯è¨ˆä¿®è£œåœç±¬æ‰€éœ€çš„ç¸½æˆæœ¬ã€‚ éæ­·åœç±¬ä¸¦åˆ¤æ–·ï¼šä½¿ç”¨ for è¿´åœˆå¾é ­åˆ°å°¾æª¢æŸ¥æ¯ä¸€å€‹åœç±¬ï¼ˆç´¢å¼• i å¾ 0 åˆ° n-1ï¼‰ã€‚ æª¢æŸ¥æ˜¯å¦æå£ï¼šåœ¨è¿´åœˆä¸­ï¼Œåˆ¤æ–· fence[i] æ˜¯å¦ç­‰æ–¼ 0ã€‚å¦‚æœç­‰æ–¼ 0ï¼Œè¡¨ç¤ºé€™å€‹ä½ç½®çš„åœç±¬æ–·äº†ï¼Œéœ€è¦ä¿®è£œã€‚ è™•ç†é‚Šç•Œèˆ‡ä¸­é–“æƒ…æ³ï¼š å·¦é‚Šç•Œï¼šå¦‚æœ i == 0ï¼ˆç¬¬ä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å³å´é„°å±… fence[1] çš„é«˜åº¦ã€‚ å³é‚Šç•Œï¼šå¦‚æœ i == n-1ï¼ˆæœ€å¾Œä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å·¦å´é„°å±… fence[n-2] çš„é«˜åº¦ã€‚ ä¸­é–“ï¼šå¦‚æœä¸æ˜¯é‚Šç•Œï¼Œå‰‡æ¯”è¼ƒå…¶å·¦å´ fence[i-1] å’Œå³å´ fence[i+1] çš„é«˜åº¦ï¼Œå–è¼ƒå°çš„é‚£å€‹é«˜åº¦åŠ å…¥ç¸½æˆæœ¬ ansã€‚ è¼¸å‡ºæœ€çµ‚æˆæœ¬ï¼šè¿´åœˆçµæŸå¾Œï¼Œans ä¸­å„²å­˜çš„å°±æ˜¯ä¿®è£œæ‰€æœ‰æ–·æ‰åœç±¬çš„ç¸½æˆæœ¬ï¼Œå°‡å…¶è¼¸å‡ºã€‚ åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼ è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦ 1 2 3 4 5 6 7 8 9 10 11 #include #include using namespace std; int main(){ int n; //åœç±¬æ•¸é‡ cin \u003e\u003e n; vector\u003cint\u003e fence(n); //åœç±¬é«˜åº¦ for(int i=0;i\u003cn;i++){ cin \u003e\u003e fence[i]; } é€™æ®µç¨‹å¼ç¢¼é¦–å…ˆå¼•å…¥å¿…è¦çš„å‡½å¼åº«ï¼Œç„¶å¾Œè®€å–åœç±¬æ•¸é‡ nï¼Œä¸¦å®£å‘Šä¸€å€‹å¤§å°ç‚º n çš„ vector å« fenceã€‚æ¥è‘—ï¼Œå®ƒä½¿ç”¨ä¸€å€‹ for è¿´åœˆä¾†è®€å– n æ¬¡ï¼Œå°‡æ¯å€‹åœç±¬çš„é«˜åº¦å­˜å…¥ vector ä¸­ã€‚\nåˆå§‹åŒ–æˆæœ¬ä¸¦éæ­·è¨ˆç®— 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 int ans=0; for(int i=0;i\u003cn;i++){ if(fence[i]==0){ // åˆ¤æ–·åœç±¬æ˜¯å¦ç‚º 0 (æ–·æ‰) if(i == 0){ // æƒ…æ³ 1: æ–·åœ¨æœ€å·¦é‚Š ans += fence[1]; } else if(i == n-1){ // æƒ…æ³ 2: æ–·åœ¨æœ€å³é‚Š ans += fence[n-2]; } else{ // æƒ…æ³ 3: æ–·åœ¨ä¸­é–“ // ans += åˆ¤æ–·å¼?æˆç«‹ç¨‹å¼ç¢¼:å¦å®šç¨‹å¼ç¢¼ // ä½¿ç”¨ä¸‰å…ƒé‹ç®—å­å–å·¦å³å…©é‚Šè¼ƒå°çš„é«˜åº¦ ans += fence[i-1] \u003e fence[i+1] ? fence[i+1] : fence[i-1]; } } } é€™æ®µç¨‹å¼ç¢¼æ˜¯è§£é¡Œçš„æ ¸å¿ƒã€‚\nåˆå§‹åŒ– ans = 0 ä¾†è¨ˆç®—ç¸½æˆæœ¬ã€‚ for(int i=0; i","wordCount":"1303","inLanguage":"en","datePublished":"2025-10-26T20:22:55Z","dateModified":"2025-10-26T20:22:55Z","author":{"@type":"Person","name":"Aura"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/apcs/apcs-2021-11/"},"publisher":{"@type":"Organization","name":"Aura's Space","logo":{"@type":"ImageObject","url":"http://localhost:1313/images/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Aura's Space (Alt + H)"><img src=http://localhost:1313/images/favicon.ico alt aria-label=logo height=35>Aura's Space</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/archives/ title=Archives><span>Archives</span></a></li><li><a href=http://localhost:1313/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/about/ title=About><span>About</span></a></li><li><a href=http://localhost:1313/search/ title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;Â»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">APCS-2021-11</h1><div class=post-meta><span title='2025-10-26 20:22:55 +0000 UTC'>October 26, 2025</span>&nbsp;Â·&nbsp;<span>7 min</span>&nbsp;Â·&nbsp;<span>Aura</span></div></header><ul class=post-tags><li><a href=http://localhost:1313/tags/c++/>C++</a></li></ul><div class=post-content><h1 id=1-ä¿®è£œåœç±¬>1. ä¿®è£œåœç±¬<a hidden class=anchor aria-hidden=true href=#1-ä¿®è£œåœç±¬>#</a></h1><h2 id=è§£é¡Œæ­¥é©Ÿ>è§£é¡Œæ­¥é©Ÿ<a hidden class=anchor aria-hidden=true href=#è§£é¡Œæ­¥é©Ÿ>#</a></h2><ol><li><strong>è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦</strong>ï¼šè®€å–åœç±¬çš„ç¸½æ•¸é‡ <code>n</code>ï¼Œæ¥è‘—ä½¿ç”¨è¿´åœˆè®€å– <code>n</code> å€‹åœç±¬å„è‡ªçš„é«˜åº¦ï¼Œä¸¦å­˜å…¥ä¸€å€‹ <code>vector</code>ï¼ˆæˆ–é™£åˆ—ï¼‰<code>fence</code> ä¸­ã€‚</li><li><strong>åˆå§‹åŒ–æˆæœ¬è®Šæ•¸</strong>ï¼šå®£å‘Šä¸€å€‹æ•´æ•¸è®Šæ•¸ <code>ans</code> ä¸¦å°‡å…¶åˆå§‹åŒ–ç‚º 0ï¼Œç”¨ä¾†ç´¯è¨ˆä¿®è£œåœç±¬æ‰€éœ€çš„ç¸½æˆæœ¬ã€‚</li><li><strong>éæ­·åœç±¬ä¸¦åˆ¤æ–·</strong>ï¼šä½¿ç”¨ <code>for</code> è¿´åœˆå¾é ­åˆ°å°¾æª¢æŸ¥æ¯ä¸€å€‹åœç±¬ï¼ˆç´¢å¼• <code>i</code> å¾ <code>0</code> åˆ° <code>n-1</code>ï¼‰ã€‚</li><li><strong>æª¢æŸ¥æ˜¯å¦æå£</strong>ï¼šåœ¨è¿´åœˆä¸­ï¼Œåˆ¤æ–· <code>fence[i]</code> æ˜¯å¦ç­‰æ–¼ 0ã€‚å¦‚æœç­‰æ–¼ 0ï¼Œè¡¨ç¤ºé€™å€‹ä½ç½®çš„åœç±¬æ–·äº†ï¼Œéœ€è¦ä¿®è£œã€‚</li><li><strong>è™•ç†é‚Šç•Œèˆ‡ä¸­é–“æƒ…æ³</strong>ï¼š<ul><li><strong>å·¦é‚Šç•Œ</strong>ï¼šå¦‚æœ <code>i == 0</code>ï¼ˆç¬¬ä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å³å´é„°å±… <code>fence[1]</code> çš„é«˜åº¦ã€‚</li><li><strong>å³é‚Šç•Œ</strong>ï¼šå¦‚æœ <code>i == n-1</code>ï¼ˆæœ€å¾Œä¸€å€‹åœç±¬ï¼‰ï¼Œå‰‡æˆæœ¬å¢åŠ å…¶å·¦å´é„°å±… <code>fence[n-2]</code> çš„é«˜åº¦ã€‚</li><li><strong>ä¸­é–“</strong>ï¼šå¦‚æœä¸æ˜¯é‚Šç•Œï¼Œå‰‡æ¯”è¼ƒå…¶å·¦å´ <code>fence[i-1]</code> å’Œå³å´ <code>fence[i+1]</code> çš„é«˜åº¦ï¼Œå–<strong>è¼ƒå°</strong>çš„é‚£å€‹é«˜åº¦åŠ å…¥ç¸½æˆæœ¬ <code>ans</code>ã€‚</li></ul></li><li><strong>è¼¸å‡ºæœ€çµ‚æˆæœ¬</strong>ï¼šè¿´åœˆçµæŸå¾Œï¼Œ<code>ans</code> ä¸­å„²å­˜çš„å°±æ˜¯ä¿®è£œæ‰€æœ‰æ–·æ‰åœç±¬çš„ç¸½æˆæœ¬ï¼Œå°‡å…¶è¼¸å‡ºã€‚</li></ol><h2 id=åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼>åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼<a hidden class=anchor aria-hidden=true href=#åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼>#</a></h2><h3 id=è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦>è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦<a hidden class=anchor aria-hidden=true href=#è®€å–åœç±¬æ•¸é‡å’Œé«˜åº¦>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include&lt;iostream&gt;
</span></span></span><span class=line><span class=cl><span class=cp>#include&lt;vector&gt;
</span></span></span><span class=line><span class=cl><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span><span class=p>;</span> <span class=c1>//åœç±¬æ•¸é‡
</span></span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>fence</span><span class=p>(</span><span class=n>n</span><span class=p>);</span> <span class=c1>//åœç±¬é«˜åº¦
</span></span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>é€™æ®µç¨‹å¼ç¢¼é¦–å…ˆå¼•å…¥å¿…è¦çš„å‡½å¼åº«ï¼Œç„¶å¾Œè®€å–åœç±¬æ•¸é‡ <code>n</code>ï¼Œä¸¦å®£å‘Šä¸€å€‹å¤§å°ç‚º <code>n</code> çš„ <code>vector</code> å« <code>fence</code>ã€‚æ¥è‘—ï¼Œå®ƒä½¿ç”¨ä¸€å€‹ <code>for</code> è¿´åœˆä¾†è®€å– <code>n</code> æ¬¡ï¼Œå°‡æ¯å€‹åœç±¬çš„é«˜åº¦å­˜å…¥ <code>vector</code> ä¸­ã€‚</p><h3 id=åˆå§‹åŒ–æˆæœ¬ä¸¦éæ­·è¨ˆç®—>åˆå§‹åŒ–æˆæœ¬ä¸¦éæ­·è¨ˆç®—<a hidden class=anchor aria-hidden=true href=#åˆå§‹åŒ–æˆæœ¬ä¸¦éæ­·è¨ˆç®—>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>ans</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>==</span><span class=mi>0</span><span class=p>){</span> <span class=c1>// åˆ¤æ–·åœç±¬æ˜¯å¦ç‚º 0 (æ–·æ‰)
</span></span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span> <span class=c1>// æƒ…æ³ 1: æ–·åœ¨æœ€å·¦é‚Š
</span></span></span><span class=line><span class=cl>                <span class=n>ans</span> <span class=o>+=</span> <span class=n>fence</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=nf>if</span><span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>){</span> <span class=c1>// æƒ…æ³ 2: æ–·åœ¨æœ€å³é‚Š
</span></span></span><span class=line><span class=cl>                <span class=n>ans</span> <span class=o>+=</span> <span class=n>fence</span><span class=p>[</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>{</span> <span class=c1>// æƒ…æ³ 3: æ–·åœ¨ä¸­é–“
</span></span></span><span class=line><span class=cl>                <span class=c1>// ans += åˆ¤æ–·å¼?æˆç«‹ç¨‹å¼ç¢¼:å¦å®šç¨‹å¼ç¢¼
</span></span></span><span class=line><span class=cl>                <span class=c1>// ä½¿ç”¨ä¸‰å…ƒé‹ç®—å­å–å·¦å³å…©é‚Šè¼ƒå°çš„é«˜åº¦
</span></span></span><span class=line><span class=cl>                <span class=n>ans</span> <span class=o>+=</span> <span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>?</span> <span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>:</span> <span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>é€™æ®µç¨‹å¼ç¢¼æ˜¯è§£é¡Œçš„æ ¸å¿ƒã€‚</p><ol><li>åˆå§‹åŒ– <code>ans = 0</code> ä¾†è¨ˆç®—ç¸½æˆæœ¬ã€‚</li><li><code>for(int i=0; i&lt;n; i++)</code>ï¼šéæ­·æ‰€æœ‰åœç±¬ã€‚</li><li><code>if(fence[i]==0)</code>ï¼šæª¢æŸ¥ç•¶å‰åœç±¬æ˜¯å¦æ–·æ‰ã€‚</li><li>æ¥è‘—çš„ä¸‰å€‹ <code>if-else if-else</code> å€å¡Šåˆ†åˆ¥è™•ç†äº†é¡Œç›®ä¸­æåˆ°çš„ä¸‰ç¨®æƒ…æ³ï¼šæ–·åœ¨æœ€å·¦é‚Šã€æ–·åœ¨æœ€å³é‚Šã€ä»¥åŠæ–·åœ¨ä¸­é–“ã€‚</li><li>å°æ–¼ä¸­é–“æƒ…æ³ï¼Œ<code>ans += fence[i-1] > fence[i+1] ? fence[i+1] : fence[i-1];</code> æ˜¯ä¸€å€‹ä¸‰å…ƒé‹ç®—å­ï¼Œå®ƒç­‰åŒæ–¼ <code>ans += min(fence[i-1], fence[i+1])</code>ï¼Œå³å–å·¦å³å…©å´è¼ƒå°çš„å€¼åŠ å…¥æˆæœ¬ã€‚</li></ol><h3 id=è¼¸å‡ºæœ€çµ‚æˆæœ¬>è¼¸å‡ºæœ€çµ‚æˆæœ¬<a hidden class=anchor aria-hidden=true href=#è¼¸å‡ºæœ€çµ‚æˆæœ¬>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>ans</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨æ‰€æœ‰è¨ˆç®—å®Œæˆå¾Œï¼Œé€™è¡Œç¨‹å¼ç¢¼æœƒå°å‡ºç´¯è¨ˆçš„ç¸½æˆæœ¬ <code>ans</code>ï¼Œä¸¦çµæŸ <code>main</code> å‡½å¼ã€‚</p><h2 id=å®Œæ•´ç¨‹å¼ç¢¼>å®Œæ•´ç¨‹å¼ç¢¼<a hidden class=anchor aria-hidden=true href=#å®Œæ•´ç¨‹å¼ç¢¼>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include&lt;iostream&gt;
</span></span></span><span class=line><span class=cl><span class=cp>#include&lt;vector&gt;
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span><span class=p>;</span> <span class=c1>//åœç±¬æ•¸é‡
</span></span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>fence</span><span class=p>(</span><span class=n>n</span><span class=p>);</span> <span class=c1>//åœç±¬é«˜åº¦
</span></span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>ans</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>==</span><span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>ans</span> <span class=o>+=</span> <span class=n>fence</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>ans</span> <span class=o>+=</span> <span class=n>fence</span><span class=p>[</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>// ans += åˆ¤æ–·å¼?æˆç«‹ç¨‹å¼ç¢¼:å¦å®šç¨‹å¼ç¢¼
</span></span></span><span class=line><span class=cl>                <span class=n>ans</span> <span class=o>+=</span> <span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>?</span> <span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>:</span> <span class=n>fence</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>ans</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=2-å‹•ç·šå®‰æ’>2. å‹•ç·šå®‰æ’<a hidden class=anchor aria-hidden=true href=#2-å‹•ç·šå®‰æ’>#</a></h1><h2 id=è§£é¡Œæ­¥é©Ÿ-1>è§£é¡Œæ­¥é©Ÿ<a hidden class=anchor aria-hidden=true href=#è§£é¡Œæ­¥é©Ÿ-1>#</a></h2><ol><li><strong>è®€å–è¼¸å…¥èˆ‡åˆå§‹åŒ–</strong>: è®€å–å±•å ´å¤§å° $m, n$ å’Œæ“ä½œæ¬¡æ•¸ $h$ã€‚å®£å‘Šä¸€å€‹ $m \times n$ çš„äºŒç¶­é™£åˆ— <code>arr</code> ä¾†æ¨¡æ“¬å±•å ´ç‹€æ…‹ã€‚æˆ‘å€‘ä½¿ç”¨ <code>-1</code> ä»£è¡¨æœ¨æ¨ï¼Œ<code>0</code> ä»£è¡¨ç©ºåœ°ï¼Œæ­£æ•¸ä»£è¡¨è©²æ ¼è¢«ç·šç¶“éçš„æ¬¡æ•¸ã€‚åŒæ™‚åˆå§‹åŒ–æœ€å¤§é¢ç© <code>mx</code> ç‚º 0ã€‚</li><li><strong>å®šç¾©è¼”åŠ©å‡½æ•¸</strong>:<ul><li><code>nowArea()</code>: éæ­·æ•´å€‹ <code>arr</code> é™£åˆ—ï¼Œè¨ˆç®—å€¼ä¸ç‚º 0 (å³æœ‰æœ¨æ¨æˆ–æœ‰ç·š) çš„æ ¼å­ç¸½æ•¸ï¼Œä¸¦è¿”å›è©²ç¸½æ•¸ä½œç‚ºç•¶å‰é¢ç©ã€‚</li><li><code>haveStake(r, c, dir)</code>: æª¢æŸ¥å¾ $(r, c)$ å¾€ <code>dir</code> (0=å³, 1=å·¦, 2=ä¸Š, 3=ä¸‹) æ–¹å‘æœå°‹ï¼Œè·¯å¾‘ä¸Šæ˜¯å¦æœƒé‡åˆ°æœ¨æ¨ (<code>-1</code>)ã€‚</li><li><code>add(r, c, dir)</code>: å¾ $(r, c)$ å¾€ <code>dir</code> æ–¹å‘ï¼Œå°‡è·¯å¾‘ä¸Šæ‰€æœ‰æ ¼å­çš„è¨ˆæ•¸å€¼ <code>++</code>ï¼Œç›´åˆ°é‡åˆ°æœ¨æ¨ (<code>-1</code>) æˆ–ç¢°åˆ°é‚Šç•Œç‚ºæ­¢ã€‚</li><li><code>rmv(r, c, dir)</code>: å¾ $(r, c)$ å¾€ <code>dir</code> æ–¹å‘ï¼Œå°‡è·¯å¾‘ä¸Šæ‰€æœ‰æ ¼å­çš„è¨ˆæ•¸å€¼ <code>--</code>ï¼Œç›´åˆ°é‡åˆ°æœ¨æ¨ (<code>-1</code>)ã€ç©ºåœ° (<code>0</code>) æˆ–ç¢°åˆ°é‚Šç•Œç‚ºæ­¢ã€‚</li></ul></li><li><strong>æ¨¡æ“¬ $h$ æ¬¡æ“ä½œ</strong>: ä½¿ç”¨ <code>for</code> è¿´åœˆåŸ·è¡Œ $h$ æ¬¡æ“ä½œã€‚åœ¨æ¯æ¬¡è¿´åœˆä¸­ï¼š<ul><li>è®€å–æ“ä½œä½ç½® $(r, c)$ å’Œæ“ä½œé¡å‹ $t$ã€‚</li><li><strong>è‹¥ $t == 0$ (åŠ å…¥æœ¨æ¨)</strong>:<ol><li>é¦–å…ˆæª¢æŸ¥ <code>arr[r][c]</code> æ˜¯å¦å¤§æ–¼ 0 (å³æœ‰ç·šç¶“é)ã€‚å¦‚æœæ˜¯ï¼Œè¡¨ç¤ºéœ€è¦å…ˆæ‹†é™¤èˆŠç·šã€‚é€é <code>haveStake</code> æª¢æŸ¥å››å€‹æ–¹å‘ï¼Œè‹¥æœ‰æœ¨æ¨ï¼Œå‰‡å‘¼å« <code>rmv</code> ç§»é™¤è©²æ–¹å‘çš„é€£ç·šã€‚</li><li>å°‡ <code>arr[r][c]</code> è¨­ç‚º <code>-1</code>ï¼Œè¡¨ç¤ºæ”¾ç½®æœ¨æ¨ã€‚</li><li>é€é <code>haveStake</code> æª¢æŸ¥å››å€‹æ–¹å‘ï¼Œè‹¥æœ‰æœ¨æ¨ï¼Œå‰‡å‘¼å« <code>add</code> å»ºç«‹è©²æ–¹å‘çš„æ–°é€£ç·šã€‚</li></ol></li><li><strong>è‹¥ $t == 1$ (ç§»é™¤æœ¨æ¨)</strong>:<ol><li>å°‡ <code>arr[r][c]</code> è¨­ç‚º <code>0</code>ï¼Œè¡¨ç¤ºç§»é™¤æœ¨æ¨ã€‚</li><li>é€é <code>haveStake</code> æª¢æŸ¥å››å€‹æ–¹å‘ï¼Œè‹¥æœ‰æœ¨æ¨ï¼Œå‰‡å‘¼å« <code>rmv</code> ç§»é™¤è©²æ–¹å‘çš„é€£ç·šã€‚</li></ol></li></ul></li><li><strong>æ›´æ–°æœ€å¤§é¢ç©</strong>: åœ¨æ¯æ¬¡æ“ä½œï¼ˆåŠ å…¥æˆ–ç§»é™¤ï¼‰å®Œæˆå¾Œï¼Œå‘¼å« <code>nowArea()</code> è¨ˆç®—ç•¶å‰é¢ç©ï¼Œä¸¦ä½¿ç”¨ <code>mx = max(mx, nowArea())</code> ä¾†æ›´æ–°éç¨‹ä¸­çš„æœ€å¤§é¢ç©ã€‚</li><li><strong>è¼¸å‡ºçµæœ</strong>: $h$ æ¬¡æ“ä½œå…¨éƒ¨å®Œæˆå¾Œï¼Œè¼¸å‡º <code>mx</code> (éç¨‹æœ€å¤§é¢ç©) å’Œæœ€å¾Œä¸€æ¬¡å‘¼å« <code>nowArea()</code> (æœ€çµ‚é¢ç©) çš„çµæœã€‚</li></ol><h2 id=åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼-1>åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼<a hidden class=anchor aria-hidden=true href=#åˆ†æ®µæ­¥é©Ÿç¨‹å¼ç¢¼-1>#</a></h2><h3 id=è®€å–è¼¸å…¥èˆ‡å…¨åŸŸè®Šæ•¸>è®€å–è¼¸å…¥èˆ‡å…¨åŸŸè®Šæ•¸<a hidden class=anchor aria-hidden=true href=#è®€å–è¼¸å…¥èˆ‡å…¨åŸŸè®Šæ•¸>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include&lt;iostream&gt;
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>h</span><span class=p>,</span> <span class=n>r</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>t</span><span class=p>,</span> <span class=n>arr</span><span class=p>[</span><span class=mi>100</span><span class=p>][</span><span class=mi>100</span><span class=p>]</span> <span class=o>=</span> <span class=p>{},</span> <span class=n>mx</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>é€™æ®µç¨‹å¼ç¢¼åŒ…å«å¿…è¦çš„æ¨™é ­æª”ï¼Œä¸¦å®£å‘Šæ‰€æœ‰éœ€è¦çš„å…¨åŸŸè®Šæ•¸ï¼ŒåŒ…æ‹¬ $m, n, h$ï¼Œç•¶å‰æ“ä½œçš„ $r, c, t$ï¼Œä»¥åŠ $100 \times 100$ çš„å±•å ´é™£åˆ— <code>arr</code> å’Œæœ€å¤§é¢ç© <code>mx</code>ã€‚</p><h3 id=ç§»é™¤é€£ç·š-rmv>ç§»é™¤é€£ç·š (<code>rmv</code>)<a hidden class=anchor aria-hidden=true href=#ç§»é™¤é€£ç·š-rmv>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>void</span> <span class=nf>rmv</span><span class=p>(</span><span class=kt>int</span> <span class=n>r</span><span class=p>,</span><span class=kt>int</span> <span class=n>c</span><span class=p>,</span><span class=kt>int</span> <span class=n>dir</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span> <span class=c1>// å‘å³
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=o>||</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span> <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>1</span><span class=p>){</span> <span class=c1>// å‘å·¦
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=o>||</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span> <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>2</span><span class=p>){</span> <span class=c1>// å‘ä¸Š
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=o>||</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>3</span><span class=p>){</span> <span class=c1>// å‘ä¸‹
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>m</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=o>||</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æ­¤å‡½æ•¸æ ¹æ“šæŒ‡å®šæ–¹å‘ <code>dir</code>ï¼Œå°‡ $(r, c)$ åˆ°ä¸‹ä¸€å€‹æœ¨æ¨ (<code>-1</code>) æˆ–ç©ºåœ° (<code>0</code>) ä¹‹é–“çš„ç·š (<code>>0</code>) è¨ˆæ•¸æ¸› 1ã€‚</p><h3 id=åŠ å…¥é€£ç·š-add>åŠ å…¥é€£ç·š (<code>add</code>)<a hidden class=anchor aria-hidden=true href=#åŠ å…¥é€£ç·š-add>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>void</span> <span class=nf>add</span><span class=p>(</span><span class=kt>int</span> <span class=n>r</span><span class=p>,</span><span class=kt>int</span> <span class=n>c</span><span class=p>,</span><span class=kt>int</span> <span class=n>dir</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span> <span class=c1>// å‘å³
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>1</span><span class=p>){</span> <span class=c1>// å‘å·¦
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>2</span><span class=p>){</span> <span class=c1>// å‘ä¸Š
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>3</span><span class=p>){</span> <span class=c1>// å‘ä¸‹
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>m</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æ­¤å‡½æ•¸æ ¹æ“šæŒ‡å®šæ–¹å‘ <code>dir</code>ï¼Œå°‡ $(r, c)$ åˆ°ä¸‹ä¸€å€‹æœ¨æ¨ (<code>-1</code>) ä¹‹é–“çš„ç·šè¨ˆæ•¸åŠ  1ã€‚</p><h3 id=æª¢æŸ¥æœ¨æ¨-havestake>æª¢æŸ¥æœ¨æ¨ (<code>haveStake</code>)<a hidden class=anchor aria-hidden=true href=#æª¢æŸ¥æœ¨æ¨-havestake>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>haveStake</span><span class=p>(</span><span class=kt>int</span> <span class=n>r</span><span class=p>,</span> <span class=kt>int</span> <span class=n>c</span><span class=p>,</span> <span class=kt>int</span> <span class=n>dir</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span> <span class=c1>// å‘å³
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>1</span><span class=p>){</span> <span class=c1>// å‘å·¦
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>2</span><span class=p>){</span> <span class=c1>// å‘ä¸Š
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>3</span><span class=p>){</span> <span class=c1>// å‘ä¸‹
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>m</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æ­¤å‡½æ•¸æª¢æŸ¥å¾ $(r, c)$ æ²¿æŒ‡å®šæ–¹å‘ <code>dir</code> æ˜¯å¦å­˜åœ¨æœ¨æ¨ (<code>-1</code>)ã€‚</p><h3 id=è¨ˆç®—é¢ç©-nowarea>è¨ˆç®—é¢ç© (<code>nowArea</code>)<a hidden class=anchor aria-hidden=true href=#è¨ˆç®—é¢ç©-nowarea>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span> <span class=nf>nowArea</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=kt>int</span> <span class=n>cnt</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>m</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>j</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>j</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span><span class=o>!=</span><span class=mi>0</span><span class=p>)</span> <span class=n>cnt</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>return</span> <span class=n>cnt</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æ­¤å‡½æ•¸éæ­· $m \times n$ å±•å ´ï¼Œè¨ˆç®—æ‰€æœ‰é 0 (æœ‰æœ¨æ¨æˆ–ç·š) çš„æ ¼å­æ•¸é‡ã€‚</p><h3 id=ä¸»ç¨‹å¼è™•ç†æ“ä½œèˆ‡è¼¸å‡º>ä¸»ç¨‹å¼ï¼šè™•ç†æ“ä½œèˆ‡è¼¸å‡º<a hidden class=anchor aria-hidden=true href=#ä¸»ç¨‹å¼è™•ç†æ“ä½œèˆ‡è¼¸å‡º>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>m</span> <span class=o>&gt;&gt;</span> <span class=n>n</span> <span class=o>&gt;&gt;</span> <span class=n>h</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>hh</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>hh</span><span class=o>&lt;</span><span class=n>h</span><span class=p>;</span><span class=n>hh</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=c1>// é™£åˆ—å€¼: 0=æ²’æ±è¥¿,-1æ˜¯æœ¨æ¨,æ­£æ•¸æ˜¯ç·šçš„æ•¸é‡
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>r</span> <span class=o>&gt;&gt;</span> <span class=n>c</span> <span class=o>&gt;&gt;</span><span class=n>t</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>t</span><span class=o>==</span><span class=mi>0</span><span class=p>){</span> <span class=c1>// åŠ å…¥æœ¨æ¨
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>!=</span><span class=mi>0</span><span class=p>){</span> <span class=c1>// å¦‚æœæœ‰ç·šç¶“éï¼Œå…ˆæ‹†ç·š
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>=-</span><span class=mi>1</span><span class=p>;</span> <span class=c1>// æ”¾ç½®æœ¨æ¨
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=c1>// å»ºç«‹æ–°é€£ç·š
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>))</span><span class=n>add</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>))</span><span class=n>add</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span><span class=n>add</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>))</span><span class=n>add</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>else</span><span class=p>{</span> Â  Â  <span class=c1>// ç§»é™¤æœ¨æ¨
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=c1>// ç§»é™¤æœ¨æ¨
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=c1>// ç§»é™¤ç›¸é—œé€£ç·š
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  <span class=n>_</span> Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=n>mx</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>mx</span><span class=p>,</span><span class=n>nowArea</span><span class=p>());</span> <span class=c1>// æ›´æ–°æœ€å¤§é¢ç©
</span></span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>mx</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span> <span class=o>&lt;&lt;</span> <span class=n>nowArea</span><span class=p>();</span> <span class=c1>// è¼¸å‡ºæœ€å¤§é¢ç©èˆ‡æœ€çµ‚é¢ç©
</span></span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>é€™æ˜¯ç¨‹å¼çš„ä¸»é«”ã€‚å®ƒé¦–å…ˆè®€å– $m, n, h$ï¼Œç„¶å¾Œé€²å…¥ $h$ æ¬¡è¿´åœˆï¼Œæ ¹æ“š $t$ çš„å€¼åŸ·è¡ŒåŠ å…¥æˆ–ç§»é™¤æœ¨æ¨çš„é‚è¼¯ï¼Œä¸¦åœ¨æ¯æ¬¡æ“ä½œå¾Œæ›´æ–°æœ€å¤§é¢ç© <code>mx</code>ã€‚æœ€å¾Œè¼¸å‡º <code>mx</code> å’Œ $h$ æ¬¡æ“ä½œå¾Œçš„æœ€çµ‚é¢ç©ã€‚</p><h2 id=å®Œæ•´ç¨‹å¼ç¢¼-1>å®Œæ•´ç¨‹å¼ç¢¼<a hidden class=anchor aria-hidden=true href=#å®Œæ•´ç¨‹å¼ç¢¼-1>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include&lt;iostream&gt;
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>h</span><span class=p>,</span> <span class=n>r</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>t</span><span class=p>,</span> <span class=n>arr</span><span class=p>[</span><span class=mi>100</span><span class=p>][</span><span class=mi>100</span><span class=p>]</span> <span class=o>=</span> <span class=p>{},</span> <span class=n>mx</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>rmv</span><span class=p>(</span><span class=kt>int</span> <span class=n>r</span><span class=p>,</span><span class=kt>int</span> <span class=n>c</span><span class=p>,</span><span class=kt>int</span> <span class=n>dir</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=o>||</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span> <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=o>||</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span> <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>2</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=o>||</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>3</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>m</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=o>||</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>add</span><span class=p>(</span><span class=kt>int</span> <span class=n>r</span><span class=p>,</span><span class=kt>int</span> <span class=n>c</span><span class=p>,</span><span class=kt>int</span> <span class=n>dir</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>2</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>3</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>m</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>haveStake</span><span class=p>(</span><span class=kt>int</span> <span class=n>r</span><span class=p>,</span> <span class=kt>int</span> <span class=n>c</span><span class=p>,</span> <span class=kt>int</span> <span class=n>dir</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>c</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>i</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>2</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>--</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>dir</span> <span class=o>==</span> <span class=mi>3</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=n>r</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>m</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>==-</span><span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>nowArea</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=kt>int</span> <span class=n>cnt</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=n>m</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>j</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>j</span><span class=o>&lt;</span><span class=n>n</span><span class=p>;</span><span class=n>j</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span><span class=o>!=</span><span class=mi>0</span><span class=p>)</span> <span class=n>cnt</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>return</span> <span class=n>cnt</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>m</span> <span class=o>&gt;&gt;</span> <span class=n>n</span> <span class=o>&gt;&gt;</span> <span class=n>h</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>hh</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>hh</span><span class=o>&lt;</span><span class=n>h</span><span class=p>;</span><span class=n>hh</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=c1>// é™£åˆ—å€¼: 0=æ²’æ±è¥¿,-1æ˜¯æœ¨æ¨,æ­£æ•¸æ˜¯ç·šçš„æ•¸é‡
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>r</span> <span class=o>&gt;&gt;</span> <span class=n>c</span> <span class=o>&gt;&gt;</span><span class=n>t</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>t</span><span class=o>==</span><span class=mi>0</span><span class=p>){</span> <span class=c1>// åŠ å…¥æœ¨æ¨
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>!=</span><span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>=-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>))</span><span class=n>add</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>))</span><span class=n>add</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span><span class=n>add</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>))</span><span class=n>add</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=k>else</span><span class=p>{</span> Â  Â  <span class=c1>// ç§»é™¤æœ¨æ¨
</span></span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=n>arr</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  Â  Â  <span class=k>if</span><span class=p>(</span><span class=n>haveStake</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>))</span><span class=n>rmv</span><span class=p>(</span><span class=n>r</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  Â  Â  <span class=n>mx</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>mx</span><span class=p>,</span><span class=n>nowArea</span><span class=p>());</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=p>}</span>
</span></span><span class=line><span class=cl>Â  Â  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>mx</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span> <span class=o>&lt;&lt;</span> <span class=n>nowArea</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2022~2025 <a href=http://localhost:1313/>Aura's Space</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>